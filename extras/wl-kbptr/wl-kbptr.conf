# extras/wl-kbptr/wl-kbptr.conf

# ----------------------------------------------------------------------------- #
# !-- Submap: Cursor
# ----------------------------------------------------------------------------- #
bindd = $HYPRVIM_LEADER, G, Activate Cursor Submap, exec, hyprctl keyword cursor:inactive_timeout 0; hyprctl keyword cursor:hide_on_key_press false; hyprctl dispatch submap Cursor
submap = Cursor

## Switch to other submaps
# bindd = $HYPRVIM_LEADER, W, Active Windows Submap, exec, hyprctl --batch "dispatch submap Windows; keyword cursor:inactive_timeout 3; keyword cursor:hide_on_key_press true"
# bindd = $HYPRVIM_LEADER, R, Activate Resize Submap, exec, hyprctl --batch "dispatch submap Resize; keyword cursor:inactive_timeout 3; keyword cursor:hide_on_key_press true"
# bindd = $HYPRVIM_LEADER, M, Activate Movement Submap, exec, hyprctl --batch "dispatch submap MOVE; keyword cursor:inactive_timeout 3; keyword cursor:hide_on_key_press true"
bindd = $HYPRVIM_LEADER, $HYPRVIM_ACTIVATE, Active VIM Submap, exec, hyprctl --batch "dispatch submap NORMAL; keyword cursor:inactive_timeout 3; keyword cursor:hide_on_key_press true"

## Floating Mode: Cursor click/move (vimium style)
bindd = , F, Floating Cursor Click, exec, hyprctl dispatch submap reset && wl-kbptr -o modes=floating,click -o mode_floating.source=detect && hyprctl dispatch submap Cursor
bindd = SHIFT, F, Floating Cursor Move, exec, hyprctl dispatch submap reset && wl-kbptr -o modes=floating -o mode_floating.source=detect && hyprctl dispatch submap Cursor
bindd = CTRL, F, Floating Cursor Click and Exit, exec, hyprctl dispatch submap reset && wl-kbptr -o modes=floating,click -o mode_floating.source=detect && hyprctl keyword cursor:inactive_timeout 3 && hyprctl keyword cursor:hide_on_key_press true
bindd = , SLASH, Floating Cursor Click and Exit, exec, hyprctl dispatch submap reset && wl-kbptr -o modes=floating -o mode_floating.source=detect && hyprctl keyword cursor:inactive_timeout 3 && hyprctl keyword cursor:hide_on_key_press true

## Tiling Mode: Cursor click/move
bindd = , T, Tiling Cursor Click, exec, hyprctl dispatch submap reset && wl-kbptr -o modes=tile,click && hyprctl dispatch submap Cursor
bindd = SHIFT, T, Tiling Cursor Move, exec, hyprctl dispatch submap reset && wl-kbptr -o modes=tile && hyprctl dispatch submap Cursor
bindd = CTRL, T, Tiling Cursor Click and Exit, exec, hyprctl dispatch submap reset && wl-kbptr -o modes=tile,click && hyprctl keyword cursor:inactive_timeout 3 && hyprctl keyword cursor:hide_on_key_press true
bindd = SHIFT, SLASH, Tiling Cursor Click and Exit, exec, hyprctl dispatch submap reset && wl-kbptr -o modes=tile,click && hyprctl keyword cursor:inactive_timeout 3 && hyprctl keyword cursor:hide_on_key_press true

## Cursor movement
bindde = , H, Cursor Left, exec, wlrctl pointer move -10 0
bindde = , J, Cusor Down, exec, wlrctl pointer move 0 10
bindde = , K, Cusor Up, exec, wlrctl pointer move 0 -10
bindde = , L, Cusor Right, exec, wlrctl pointer move 10 0
bindde = SHIFT, H, Fast Cursor Left, exec, wlrctl pointer move -100 0
bindde = SHIFT, J, Fast Cursor Left, exec, wlrctl pointer move 0 100
bindde = SHIFT, K, Fast Cursor Left, exec, wlrctl pointer move 0 -100
bindde = SHIFT, L, Fast Cursor Left, exec, wlrctl pointer move 100 0
bindde = CTRL, H, Precise Cursor Left, exec, wlrctl pointer move -1 0
bindde = CTRL, J, Precise Cursor Left, exec, wlrctl pointer move 0 1
bindde = CTRL, K, Precise Cursor Left, exec, wlrctl pointer move 0 -1
bindde = CTRL, L, Precise Cursor Left, exec, wlrctl pointer move 1 0

## Mouse clicks
bindd = , SPACE, Left Click, exec, wlrctl pointer click left
bindd = CTRL, SPACE, Right Click, exec, wlrctl pointer click right
bindd = SHIFT, SPACE, Right Click, exec, wlrctl pointer click middle

bindd = , A, Left Click, exec, wlrctl pointer click left
bindd = , S, Middle Click, exec, wlrctl pointer click middle
bindd = , D, Right Click, exec, wlrctl pointer click right
bindd = CTRL, A, Left Click, exec, wlrctl pointer click left; hyprctl dispatch submap reset
bindd = CTRL, S, Middle Click, exec, wlrctl pointer click middle; hyprctl dispatch submap reset
bindd = CTRL, D, Right Click, exec, wlrctl pointer click right; hyprctl dispatch submap reset

## Scrolling
# NOTE: May not work in all applications. Use backups below if that is the case.
bindde = , E, Scroll Up, exec, wlrctl pointer scroll 10 0
bindde = SHIFT, E, Fast Scroll Up, exec, wlrctl pointer scroll 100 0
bindde = CTRL, E, Precise Scroll Up, exec, wlrctl pointer scroll 1 0
bindde = , Y, Scroll Down, exec, wlrctl pointer scroll -10 0
bindde = SHIFT, Y, Fast Scroll Down, exec, wlrctl pointer scroll -100 0
bindde = CTRL, Y, Precise Scroll Down, exec, wlrctl pointer scroll -1 0

bindde = , COMMA, Scroll Left, exec, wlrctl pointer scroll 10 0
bindde = , PERIOD, Scroll Right, exec, wlrctl pointer scroll -10 0
bindde = SHIFT, COMMA, Fast Scroll Left, exec, wlrctl pointer scroll 100 0
bindde = SHIFT, PERIOD, Fast Scroll Right, exec, wlrctl pointer scroll -100 0
bindde = CTRL, COMMA, Precise Scroll Left, exec, wlrctl pointer scroll 1 0
bindde = CTRL, PERIOD, Precise Scroll Right, exec, wlrctl pointer scroll -1 0

## Arrow Key Movement (backup to scrolling)
bindde = ALT, H, Move left, exec, hyprctl dispatch sendshortcut , LEFT, activewindow
bindde = ALT, J, Move down, exec, hyprctl dispatch sendshortcut , DOWN, activewindow
bindde = ALT, K, Move up, exec, hyprctl dispatch sendshortcut , UP, activewindow
bindde = ALT, L, Move right, exec, hyprctl dispatch sendshortcut , RIGHT, activewindow

## PageUp/PageDown (backup for fast scrolling)
bindd = CTRL, U, Page Up,   sendshortcut, , prior
bindd = CTRL, D, Page Down, sendshortcut, , next

## Exit
bind = $HYPRVIM_LEADER, G, exec, hyprctl keyword cursor:inactive_timeout 3; hyprctl keyword cursor:hide_on_key_press true; hyprctl dispatch submap reset
bind = , ESCAPE, exec, hyprctl keyword cursor:inactive_timeout 3; hyprctl keyword cursor:hide_on_key_press true; hyprctl dispatch submap reset
bind = , catchall, submap, Cursor
submap = reset
