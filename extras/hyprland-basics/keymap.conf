# extras/hyprland-basics/keymap.conf
################################################################################
# HYPRLAND KICKSTART FOR VIM FLOW
################################################################################
#
# Feel free to use and modify as desired. Think of this as a kick start. Enjoy!
#
################################################################################

# ----------------------------------------------------------------------------- #
# !-- Quick Access to HyprVim Scripts
# ----------------------------------------------------------------------------- #
# You can call any HyprVim utility scripts from your normal Hyprland keybindings

# Open editor anywhere, grab selection if available, and paste result into focused window
bindd = $HYPRVIM_LEADER, N, Edit selection in Vim, exec, $HYPRVIM_OPEN_VIM --copy-selected

# Marks operations (resets submap after each)
bindd = $HYPRVIM_LEADER, M, +Mark, exec, $HYPRVIM_WHICH_KEY --delay=0; $HYPRVIM_MARKS after reset && hyprctl dispatch submap SET-MARK
bindd = $HYPRVIM_LEADER+CTRL, M, +Delete Mark, exec, $HYPRVIM_WHICH_KEY --delay=0; $HYPRVIM_MARKS after reset && hyprctl dispatch submap DELETE-MARK
bindd = $HYPRVIM_LEADER, APOSTROPHE, +Jump, exec, $HYPRVIM_WHICH_KEY --delay=0; $HYPRVIM_MARKS after reset && hyprctl dispatch submap JUMP-MARK
bindd = $HYPRVIM_LEADER, GRAVE, +Jump Exit, exec, $HYPRVIM_WHICH_KEY --delay=0; $HYPRVIM_MARKS after reset && hyprctl dispatch submap JUMP-MARK
bindd = $HYPRVIM_LEADER+SHIFT, M, List Marks, exec, $HYPRVIM_MARKS list

# Find/Search operations (quick search without entering vim mode)
bindd = $HYPRVIM_LEADER, SLASH, Search forward, exec, $HYPRVIM_FIND search-forward
bindd = $HYPRVIM_LEADER+SHIFT, SLASH, Search backward, exec, $HYPRVIM_FIND search-backward
bindd = $HYPRVIM_LEADER+SHIFT, 8, Search word forward, exec, $HYPRVIM_FIND forward-word

# Command mode (access HyprVim command palette as quick launcher, exits vim mode after)
bindd = $LEADER+SHIFT, SEMICOLON, +Command, exec, $HYPRVIM_COMMAND after reset && $HYPRVIM_COMMAND prompt

# Whichkey commands
bind = $HYPRVIM_LEADER+SHIFT, SLASH, exec, $HYPRVIM_WHICH_KEY info # Press ? to open which-key on any submap
bindn = , BackSpace, exec, $HYPRVIM_WHICH_KEY --close
bindn = , ESCAPE, exec, $HYPRVIM_WHICH_KEY --close

# ----------------------------------------------------------------------------- #
# !-- Basic Hyprland management
# ----------------------------------------------------------------------------- #
bindd = $HYPRVIM_LEADER, C, Close Window, killactive,
bindd = $HYPRVIM_LEADER, F, Toggle Fullscreen, fullscreen

# Focus Movement
binddu = $HYPRVIM_LEADER, Left, Focus Left, movefocus, l
binddu = $HYPRVIM_LEADER, Right, Focus Right, movefocus, r
binddu = $HYPRVIM_LEADER, Up, Focus Up, movefocus, u
binddu = $HYPRVIM_LEADER, Down, Focus Down, movefocus, d
binddu = $HYPRVIM_LEADER, H, Focus Left, movefocus, l
binddu = $HYPRVIM_LEADER, L, Focus Right, movefocus, r
binddu = $HYPRVIM_LEADER, K, Focus Up, movefocus, u
binddu = $HYPRVIM_LEADER, J, Focus Down, movefocus, d
bindd = $HYPRVIM_LEADER, TAB, Go to Last Active WS, workspace, previous

# Monitor Navigation
bindd = $HYPRVIM_LEADER+CTRL, 1, Go to Monitor 1, focusmonitor, 0
bindd = $HYPRVIM_LEADER+CTRL, 2, Go to Monitor 2, focusmonitor, 1
bindd = $HYPRVIM_LEADER+CTRL, 3, Go to Monitor 3, focusmonitor, 2
bindd = $HYPRVIM_LEADER+CTRL, 4, Go to Monitor 4, focusmonitor, 3

# Move Windows to Monitors
bind = $HYPRVIM_LEADER+CTRL+SHIFT, 1, movewindow, mon:0
bind = $HYPRVIM_LEADER+CTRL+SHIFT, 2, movewindow, mon:1
bind = $HYPRVIM_LEADER+CTRL+SHIFT, 3, movewindow, mon:2
bind = $HYPRVIM_LEADER+CTRL+SHIFT, 4, movewindow, mon:3

# Move Windows
binddu = $HYPRVIM_LEADER+SHIFT, H, Move Window Left, movewindow, l
binddu = $HYPRVIM_LEADER+SHIFT, L, Move Window Right, movewindow, r
binddu = $HYPRVIM_LEADER+SHIFT, K, Move Window Up, movewindow, u
binddu = $HYPRVIM_LEADER+SHIFT, J, Move Window Down, movewindow, d
bindu = $HYPRVIM_LEADER, Left, movefocus, l
bindu = $HYPRVIM_LEADER, Right, movefocus, r
bindu = $HYPRVIM_LEADER, Up, movefocus, u
bindu = $HYPRVIM_LEADER, Down, movefocus, d

# Workspace Navigation
bindd = $HYPRVIM_LEADER+SHIFT, =, Create new workspace, workspace, empty
bind = $HYPRVIM_LEADER, 1, workspace, 1
bind = $HYPRVIM_LEADER, 2, workspace, 2
bind = $HYPRVIM_LEADER, 3, workspace, 3
bind = $HYPRVIM_LEADER, 4, workspace, 4
bind = $HYPRVIM_LEADER, 5, workspace, 5
bind = $HYPRVIM_LEADER, 6, workspace, 6
bind = $HYPRVIM_LEADER, 7, workspace, 7
bind = $HYPRVIM_LEADER, 8, workspace, 8
bind = $HYPRVIM_LEADER, 9, workspace, 9
bind = $HYPRVIM_LEADER, 0, workspace, 10

# Move Windows to Workspaces
bind = $HYPRVIM_LEADER+SHIFT, 1, movetoworkspace, 1
bind = $HYPRVIM_LEADER+SHIFT, 2, movetoworkspace, 2
bind = $HYPRVIM_LEADER+SHIFT, 3, movetoworkspace, 3
bind = $HYPRVIM_LEADER+SHIFT, 4, movetoworkspace, 4
bind = $HYPRVIM_LEADER+SHIFT, 5, movetoworkspace, 5
bind = $HYPRVIM_LEADER+SHIFT, 6, movetoworkspace, 6
bind = $HYPRVIM_LEADER+SHIFT, 7, movetoworkspace, 7
bind = $HYPRVIM_LEADER+SHIFT, 8, movetoworkspace, 8
bind = $HYPRVIM_LEADER+SHIFT, 9, movetoworkspace, 9
bind = $HYPRVIM_LEADER+SHIFT, 0, movetoworkspace, 10

# Scratchpad
binddu = $HYPRVIM_LEADER, S, Toggle Scratchpad, togglespecialworkspace, magic
binddu = $HYPRVIM_LEADER+SHIFT, S, Move Window to Scratchpad, movetoworkspace, special:magic

# ----------------------------------------------------------------------------- #
# !-- Resize
# ----------------------------------------------------------------------------- #
submap = Resize

bind = SHIFT, SLASH, exec, $HYPRVIM_WHICH_KEY info

## Resizing the active window
bindde = , H, Left, resizeactive, -10 0
bindde = , J, Down, resizeactive, 0 10
bindde = , K, Up, resizeactive, 0 -10
bindde = , L, Right, resizeactive, 10 0
bindde = , EQUAL, Reset Size, exec, hyprctl --batch "dispatch togglefloating; dispatch togglefloating"
bindde = SHIFT, H, Left (Fast), resizeactive, -40 0
bindde = SHIFT, J, Down (Fast), resizeactive, 0 40
bindde = SHIFT, K, Up (Fast), resizeactive, 0 -40
bindde = SHIFT, L, Right (Fast), resizeactive, 40 0
bindde = CTRL, H, Left (Pixel), resizeactive, -1 0
bindde = CTRL, J, Down (Pixel), resizeactive, 0 1
bindde = CTRL, K, Up (Pixel), resizeactive, 0 -1
bindde = CTRL, L, Right (Pixel), resizeactive, 1 0

## Modes
bindd = , F, Toggle Floating Mode, togglefloating,
bindd = , P, Toggle Pseudo Mode (dwindle layout), pseudo,
bindd = , S, Toggle Split Mode (dwindle layout), togglesplit,

## Switch to other submaps
bindd = , M, +Move, submap, Move
bindd = , W, +Windows, submap, Windows
bindd = $HYPRVIM_LEADER, $HYPRVIM_ACTIVATE, +Vim, submap, NORMAL

## Exit
bind = , ESCAPE, submap, reset
bind = , BackSpace, exec, $HYPRVIM_WHICH_KEY --close
bind = $HYPRVIM_LEADER, R, submap, reset
bind = , catchall, submap, Resize
bind = SHIFT, catchall, submap, Resize
bind = CTRL, catchall, submap, Resize
bind = ALT, catchall, submap, Resize
bind = SUPER, catchall, submap, Resize
submap = reset

# ----------------------------------------------------------------------------- #
# !-- Submap: Move
# ----------------------------------------------------------------------------- #
bind = SHIFT, SLASH, exec, $HYPRVIM_WHICH_KEY info

## Move active floating window
bindde = , H, Left, moveactive, -10 0
bindde = , J, Down, moveactive, 0 10
bindde = , K, Up, moveactive, 0 -10
bindde = , L, Right, moveactive, 10 0
bindde = SHIFT, H, Left (Fast), moveactive, -40 0
bindde = SHIFT, J, Down (Fast), moveactive, 0 40
bindde = SHIFT, K, Up (Fast), moveactive, 0 -40
bindde = SHIFT, L, Right (Fast), moveactive, 40 0
bindde = CTRL, H, Left (Pixel), moveactive, -1 0
bindde = CTRL, J, Down (Pixel), moveactive, 0 1
bindde = CTRL, K, Up (Pixel), moveactive, 0 -1
bindde = CTRL, L, Right (Pixel), moveactive, 1 0
bindd = , EQUAL, Reset Size, exec, hyprctl --batch "dispatch togglefloating; dispatch togglefloating"

## Switch to other submaps
bindd = , R, +Resize, submap, Resize
bindd = , W, +Windows, submap, Windows
bindd = $HYPRVIM_LEADER, $HYPRVIM_ACTIVATE, +Vim, submap, NORMAL

## Exit
bind = , ESCAPE, submap, reset
bind = , BackSpace, exec, $HYPRVIM_WHICH_KEY --close
bind = $HYPRVIM_LEADER, M, submap, reset
bind = , catchall, submap, Move
bind = SHIFT, catchall, submap, Move
bind = CTRL, catchall, submap, Move
bind = ALT, catchall, submap, Move
bind = SUPER, catchall, submap, Move
submap = reset

# ----------------------------------------------------------------------------- #
# !-- Submap: Windows
# ----------------------------------------------------------------------------- #
submap = Windows

## Switch to other submaps
bindd = $HYPRVIM_LEADER, R, +Resize, submap, Resize
bindd = $HYPRVIM_LEADER, M, +Move, submap, Move
bindd = $HYPRVIM_LEADER, $HYPRVIM_ACTIVATE, +Vim, submap, NORMAL

## Shortcuts
# NOTE: $LAUNCHER could be rofi | wofi | tofi
# bindd = , SPACE, Open window selector, exec, hyprctl dispatch submap reset; $LAUNCHER -i -show window

## Focus Movement
bindd = , H, Focus left, movefocus, l
bindd = , L, Focus right, movefocus, r
bindd = , K, Focus up, movefocus, u
bindd = , J, Focus down, movefocus, d
bind = , Left, movefocus, l
bind = , Right, movefocus, r
bind = , Up, movefocus, u
bind = , Down, movefocus, d
bindd = , TAB, Last active workspace, workspace, previous

## Monitor Navigation
# NOTE: Only use as many monitors as you actually have connected
bind = , 1, focusmonitor, 0
bind = , 2, focusmonitor, 1
bind = , 3, focusmonitor, 2
bind = , 4, focusmonitor, 3
bind = , 5, focusmonitor, 4
# bind = , 6, focusmonitor, 5
# bind = , 7, focusmonitor, 6
# bind = , 8, focusmonitor, 7
# bind = , 9, focusmonitor, 8
# bind = , 0, focusmonitor, 9

## Move Windows
bindd = SHIFT, H, Move left , movewindow, l
bindd = SHIFT, L, Move right , movewindow, r
bindd = SHIFT, K, Move up , movewindow, u
bindd = SHIFT, J, Move down , movewindow, d
bind = SHIFT, Left, movewindow, l
bind = SHIFT, Right, movewindow, r
bind = SHIFT, Up, movewindow, u
bind = SHIFT, Down, movewindow, d

## Monitor Workspace Navigation
bindd = CTRL, H, Switch to previous WS, split-cycleworkspaces, prev
bindd = CTRL, L, Switch to next WS, split-cycleworkspaces, next
bindd = CTRL, K, Move WS up one, split-movetoworkspace, 1
bindd = CTRL, J, Move WS down one, split-movetoworkspace, -1
bind = CTRL, Left, split-cycleworkspaces, prev
bind = CTRL, Right, split-cycleworkspaces, next
bind = CTRL, Up, split-movetoworkspace, 1
bind = CTRL, Down, split-movetoworkspace, -1

## Move active window to a workspace with LEADER  SHIFT  [1-10]
# NOTE: Requires the split-monitor-workspaces plugin: https://github.com/Duckonaut/split-monitor-workspaces/commits/main/
# bind =  SHIFT, 1, split-movetoworkspace, 1
# bind =  SHIFT, 2, split-movetoworkspace, 2
# bind =  SHIFT, 3, split-movetoworkspace, 3
# bind =  SHIFT, 4, split-movetoworkspace, 4
# bind =  SHIFT, 5, split-movetoworkspace, 5
# # bind =  SHIFT, 6, split-movetoworkspace, 6
# # bind =  SHIFT, 7, split-movetoworkspace, 7
# # bind =  SHIFT, 8, split-movetoworkspace, 8
# # bind =  SHIFT, 9, split-movetoworkspace, 9
# # bind =  SHIFT, 0, split-movetoworkspace, 10

## Modes
bindd = , F, Toggle floating mode, togglefloating,
bindd = , P, Toggle pseudo mode (dwindle layout), pseudo,
bindd = , S, Toggle split mode (dwindle layout), togglesplit,
bindd = , MINUS, Toggle split mode (dwindle layout), togglesplit,

## Actions
bindd = , C, Close window, killactive,

## Pass through
bindd = , RETURN, Confirm selection, pass, activewindow # Allows hitting return to close windows

## Exit
bind = , ESCAPE, submap, reset
bind = , BackSpace, exec, $HYPRVIM_WHICH_KEY --close
bind = $HYPRVIM_LEADER, W, submap, reset
bind = , catchall, submap, Windows
bind = SHIFT, catchall, submap, Windows
bind = CTRL, catchall, submap, Windows
bind = ALT, catchall, submap, Windows
bind = SUPER, catchall, submap, Windows
submap = reset
