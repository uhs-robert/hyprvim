# hypr/.config/hypr/HyprVim/vim-modes.conf

################################################################################
# VIM-STYLE MODES
################################################################################
#
# This file contains the primary vim modes and their navigation bindings:
# - NORMAL: Primary vim navigation mode (hjkl, word motions, operators)
# - VISUAL: Character-wise visual selection mode
# - LINE: Entry point for V-LINE, handles Up/Down to select line correctly
# - V-LINE: Line-wise visual selection mode
# - G-MOTION: Extended motions accessed via 'g' prefix
# - G-VISUAL: Extended visual motions accessed via 'g' prefix
#
# These modes provide the core vim-style navigation and selection capabilities.
# Operator-pending modes (d, c, y with text objects) are in vim-operators.conf.
# Mark operations are in vim-marks.conf.
#
################################################################################

# ----------------------------------------------------------------------------- #
# !-- NORMAL
# ----------------------------------------------------------------------------- #
submap = NORMAL

## Mode Switches
bindd = , V, Enter visual mode, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl dispatch submap VISUAL
bindd = SHIFT, V, Enter line-wise visual mode, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl --batch "dispatch sendshortcut , End, activewindow; dispatch sendshortcut SHIFT, Home, activewindow; dispatch submap LINE"
bindd = , G, Extended motions (gg ge gt gT), submap, G-MOTION
bindd = , D, Delete with motion (dw dd diw), submap, D-MOTION
bindd = , C, Change with motion (cw cc ciw), submap, C-MOTION
bindd = , Y, Yank with motion (yw yy yiw), submap, Y-MOTION

## Mark Operations
bindd = , M, Set mark (ma mb mc...), submap, SET-MARK
bindd = , GRAVE, Jump to mark (`a `b `c...), submap, JUMP-MARK
bindd = , APOSTROPHE, Jump to mark line ('a 'b 'c...), submap, JUMP-MARK

## Count (digit accumulation for repeating motions)
bindd = , 1, Count: Append digit 1, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh append 1
bindd = , 2, Count: Append digit 2, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh append 2
bindd = , 3, Count: Append digit 3, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh append 3
bindd = , 4, Count: Append digit 4, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh append 4
bindd = , 5, Count: Append digit 5, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh append 5
bindd = , 6, Count: Append digit 6, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh append 6
bindd = , 7, Count: Append digit 7, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh append 7
bindd = , 8, Count: Append digit 8, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh append 8
bindd = , 9, Count: Append digit 9, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh append 9

## Char
bindde = , H, Move left (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh ", LEFT"
bindde = , J, Move down (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh ", DOWN"
bindde = , K, Move up (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh ", UP"
bindde = , L, Move right (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh ", RIGHT"
bindd = SHIFT, H, Jump to line start, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl dispatch sendshortcut , HOME, activewindow
bindd = SHIFT, L, Jump to line end, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl dispatch sendshortcut , END, activewindow

## Word
bindde = , B, Move back word (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh "CTRL, LEFT"
bindde = , E, Move to word end (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh --batch "dispatch sendshortcut CTRL, RIGHT, activewindow; dispatch sendshortcut CTRL, RIGHT, activewindow; dispatch sendshortcut , LEFT, activewindow"
bindde = , W, Move forward word (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh "CTRL, RIGHT"
bindde = SHIFT, B, Move back WORD (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh "CTRL, LEFT"
bindde = SHIFT, E, Move to WORD end (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh --batch "dispatch sendshortcut CTRL, RIGHT, activewindow; dispatch sendshortcut , LEFT, activewindow"
bindde = SHIFT, W, Move forward WORD (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh "CTRL, RIGHT"

## Line
bindd = SHIFT, MINUS, Jump to first non-blank (^), exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl dispatch sendshortcut , HOME, activewindow
bindd = SHIFT, 6, Jump to first non-blank (^), exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl dispatch sendshortcut , HOME, activewindow
bindd = , 0, Jump to line start or append digit, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh handle_zero
bindd = SHIFT, 4, Jump to line end ($), exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl dispatch sendshortcut , END, activewindow

## Page
bindde = SHIFT, G, Jump to document end, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl dispatch sendshortcut CTRL, END, activewindow
bindde = CTRL, D, Scroll down half page (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh ", PAGE_DOWN"
bindde = CTRL, F, Scroll down full page (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh ", PAGE_DOWN"
bindde = CTRL, U, Scroll up half page (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh ", PAGE_UP"
bindde = CTRL, B, Scroll up full page (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh ", PAGE_UP"
bindd = SHIFT, GRAVE, Jump to document end (~), exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl --batch "dispatch sendshortcut CTRL, END, activewindow; dispatch submap NORMAL"

## Undo
bindde = , U, Undo, sendshortcut, CTRL, Z, activewindow
bindde = CTRL, R, Redo, sendshortcut, CTRL, Y, activewindow

## Find (f/F/t/T map to find dialog)
bindd = , SLASH, Open find dialog (/), exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl --batch "dispatch submap reset; dispatch sendshortcut CTRL, F, activewindow"
bindd = , F, Find forward (f), exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl --batch "dispatch submap reset; dispatch sendshortcut CTRL, F, activewindow"
bindd = SHIFT, F, Find backward (F), exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl --batch "dispatch submap reset; dispatch sendshortcut CTRL, F, activewindow"
bindd = , T, Find till forward (t), exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl --batch "dispatch submap reset; dispatch sendshortcut CTRL, F, activewindow"
bindd = SHIFT, T, Find till backward (T), exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl --batch "dispatch submap reset; dispatch sendshortcut CTRL, F, activewindow"
bindd = , N, Find next match (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh ", F3"
bindd = SHIFT, N, Find previous match (with count), exec, ~/.config/hypr/HyprVim/scripts/vim-motion.sh "SHIFT, F3"

## Enter insert
bindd = , I, Insert before cursor, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl dispatch submap reset
bindd = , A, Insert after cursor, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl --batch "dispatch submap reset; dispatch sendshortcut , RIGHT, activewindow"
bindd = SHIFT, A, Insert at line end, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl --batch "dispatch submap reset; dispatch sendshortcut , END, activewindow"
bindd = SHIFT, I, Insert at line start, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl --batch "dispatch submap reset; dispatch sendshortcut , HOME, activewindow"

## Open new line (using Shift+Enter to avoid send buttons)
bindd = , O, Open line below, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl --batch "dispatch sendshortcut , END, activewindow; dispatch sendshortcut SHIFT, Return, activewindow; dispatch submap reset"
bindd = SHIFT, O, Open line above, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut SHIFT, Return, activewindow; dispatch sendshortcut , Up, activewindow; dispatch submap reset"

## Change
bindd = SHIFT, C, Change to line end, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl --batch "dispatch sendshortcut SHIFT, End, activewindow; dispatch sendshortcut CTRL, X, activewindow; dispatch submap reset"

## Delete
bindd = SHIFT, D, Delete to line end, exec, hyprctl --batch "dispatch sendshortcut SHIFT, End, activewindow; dispatch sendshortcut CTRL, X, activewindow"
bindde = SHIFT, X, Delete char before cursor (with count), sendshortcut, , BackSpace, activewindow
bindde = , X, Delete char under cursor (with count), sendshortcut, CTRL, X, activewindow

## Paste
bindd = , P, Paste after cursor, sendshortcut, CTRL, V, activewindow
bindd = SHIFT, P, Paste before cursor, sendshortcut, CTRL, V, activewindow

## !--/ NORMAL
bind = $LEADER, ESCAPE, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl dispatch submap reset
bind = , ESCAPE, exec, ~/.config/hypr/HyprVim/scripts/vim-count.sh clear; hyprctl dispatch submap NORMAL
bind = , catchall, submap, NORMAL
bind = SHIFT, catchall, submap, NORMAL
submap = reset

# ----------------------------------------------------------------------------- #
# !-- VISUAL
# ----------------------------------------------------------------------------- #
submap = VISUAL

## Mode Switches
bind = , G, submap, G-VISUAL
bind = SHIFT, V, exec, hyprctl dispatch sendshortcut , End, activewindow; hyprctl dispatch sendshortcut SHIFT, Home, activewindow; hyprctl dispatch submap LINE
bind = , V, submap, VISUAL

## Char
binde = , J, sendshortcut, SHIFT, DOWN, activewindow
binde = , K, sendshortcut, SHIFT, UP, activewindow
binde = , L, sendshortcut, SHIFT, RIGHT, activewindow
binde = , H, sendshortcut, SHIFT, LEFT, activewindow

## Word
binde = , B, sendshortcut, CTRL SHIFT, LEFT, activewindow
binde = , E, sendshortcut, CTRL SHIFT, RIGHT, activewindow
binde = , W, sendshortcut, CTRL, RIGHT, activewindow

## Line
binde = SHIFT, MINUS, sendshortcut, SHIFT, HOME, activewindow
binde = , 0, sendshortcut, SHIFT, HOME, activewindow
binde = SHIFT, 4, sendshortcut, SHIFT, END, activewindow

## Page
binde = CTRL, D, sendshortcut, , PAGE_DOWN, activewindow
binde = CTRL, F, sendshortcut, , PAGE_DOWN, activewindow
binde = CTRL, U, sendshortcut, , PAGE_UP, activewindow
binde = CTRL, B, sendshortcut, , PAGE_UP, activewindow
binde = SHIFT, G, exec, hyprctl dispatch sendshortcut CTRL SHIFT, END, activewindow; hyprctl dispatch submap VISUAL

## Undo
binde = , U, sendshortcut, CTRL, Z, activewindow
binde = CTRL, R, sendshortcut, CTRL, Y, activewindow

## Change
bind = , C, exec, hyprctl dispatch submap reset; hyprctl dispatch sendshortcut CTRL, X, activewindow

## Delete
binde = SHIFT, X, exec, hyprctl dispatch sendshortcut CTRL, X, activewindow; hyprctl dispatch submap NORMAL
binde = , X, exec, hyprctl dispatch sendshortcut CTRL, X, activewindow; hyprctl dispatch submap NORMAL
binde = , D, exec, hyprctl dispatch sendshortcut CTRL, X, activewindow; hyprctl dispatch submap NORMAL
binde = SHIFT, D, exec, hyprctl dispatch sendshortcut SHIFT, HOME, activewindow; hyprctl dispatch sendshortcut , Delete, activewindow; hyprctl dispatch submap NORMAL
binde = , Y, exec, hyprctl dispatch sendshortcut CTRL, C, activewindow; hyprctl dispatch submap NORMAL
binde = , P, exec, hyprctl dispatch sendshortcut CTRL, V, activewindow; hyprctl dispatch submap NORMAL

# !-- SUB MOTIONS -------------------------------------------------------------
## !-- V-INNER
bind = , I, submap, V-INNER
bind = SHIFT, I, submap, V-INNER
submap = V-INNER

## Word motions
bind = , W, exec, hyprctl --batch "dispatch sendshortcut CTRL, LEFT, activewindow; dispatch sendshortcut CTRL+SHIFT, RIGHT, activewindow; dispatch submap VISUAL"
bind = SHIFT, W, exec, hyprctl --batch "dispatch sendshortcut CTRL, LEFT, activewindow; dispatch sendshortcut CTRL+SHIFT, RIGHT, activewindow; dispatch submap VISUAL"

## !--/ V-INNER
bind = , ESCAPE, submap, NORMAL
bind = $LEADER, ESCAPE, submap, reset
bind = , catchall, submap, VISUAL
bind = SHIFT, catchall, submap, VISUAL
submap = VISUAL

## !-- V-AROUND
bind = , A, submap, V-AROUND
bind = SHIFT, A, submap, V-AROUND
submap = V-AROUND

## Word motions
bind = , W, exec, hyprctl --batch "dispatch sendshortcut CTRL, LEFT, activewindow; dispatch sendshortcut CTRL+SHIFT, RIGHT, activewindow;par dispatch submap VISUAL"
bind = SHIFT, W, exec, hyprctl --batch "dispatch sendshortcut CTRL, LEFT, activewindow; dispatch sendshortcut CTRL+SHIFT, RIGHT, activewindow; dispatch submap VISUAL"

## !--/ V-AROUND
bind = , ESCAPE, submap, NORMAL
bind = $LEADER, ESCAPE, submap, reset
bind = , catchall, submap, VISUAL
bind = SHIFT, catchall, submap, VISUAL
submap = VISUAL
# !--/ SUB MOTIONS ------------------------------------------------------------

## !--/ VISUAL
bind = $LEADER, ESCAPE, submap, reset
bind = , ESCAPE, exec, hyprctl dispatch sendshortcut , Left, activewindow; hyprctl dispatch sendshortcut , Right, activewindow; hyprctl dispatch submap NORMAL
bind = , catchall, submap, VISUAL
submap = reset


# ----------------------------------------------------------------------------- #
# !-- LINE (Entering V-LINE mode)
# ----------------------------------------------------------------------------- #
submap = LINE

## Char
bind = , J, exec, hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut SHIFT, Down, activewindow; hyprctl dispatch submap V-LINE
bind = , K, exec, hyprctl dispatch sendshortcut , END, activewindow; hyprctl dispatch sendshortcut SHIFT, Up, activewindow; hyprctl dispatch submap V-LINE
bind = SHIFT, G, exec, hyprctl --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut CTRL SHIFT, END, activewindow; dispatch submap V-LINE"

# !-- SUB MOTIONS -------------------------------------------------------------
## !-- G-LINE
bind = , G, submap, G-LINE
bind = SHIFT, I, submap, G-LINE
submap = G-LINE

## Word motions
bind = , G, exec, hyprctl --batch "dispatch sendshortcut , END, activewindow; dispatch sendshortcut CTRL+SHIFT, HOME, activewindow; dispatch submap V-LINE"
bind = SHIFT, G, exec, hyprctl --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut CTRL+SHIFT, END, activewindow; dispatch submap V-LINE"

## !--/ G-LINE
bind = , ESCAPE, submap, NORMAL
bind = $LEADER, ESCAPE, submap, reset
bind = , catchall, submap, G-LINE
bind = SHIFT, catchall, submap, G-LINE
submap = LINE
# !--/ SUB MOTIONS -------------------------------------------------------------

## !--/ LINE
bind = $LEADER, ESCAPE, submap, reset
bind = , ESCAPE, exec, hyprctl dispatch sendshortcut , Left, activewindow; hyprctl dispatch sendshortcut , Right, activewindow; hyprctl dispatch submap NORMAL
bind = , catchall, submap, LINE
bind = SHIFT, catchall, submap, LINE
submap = reset

# ----------------------------------------------------------------------------- #
# !-- V-LINE (Line-wise visual mode)
# ----------------------------------------------------------------------------- #
submap = V-LINE

## Char
binde = , J, sendshortcut, SHIFT, DOWN, activewindow
binde = , K, sendshortcut, SHIFT, UP, activewindow
binde = , L, sendshortcut, SHIFT, RIGHT, activewindow
binde = , H, sendshortcut, SHIFT, LEFT, activewindow

## Page
binde = CTRL, D, sendshortcut, , PAGE_DOWN, activewindow
binde = CTRL, F, sendshortcut, , PAGE_DOWN, activewindow
binde = CTRL, U, sendshortcut, , PAGE_UP, activewindow
binde = CTRL, B, sendshortcut, , PAGE_UP, activewindow
binde = SHIFT, G, exec, hyprctl dispatch sendshortcut CTRL SHIFT, END, activewindow; hyprctl dispatch submap V-LINE

## Undo
binde = , U, sendshortcut, CTRL, Z, activewindow
binde = CTRL, R, sendshortcut, CTRL, Y, activewindow

## Change
bind = , C, exec, hyprctl dispatch submap reset; hyprctl dispatch sendshortcut CTRL, X, activewindow

## Delete
binde = SHIFT, X, exec, hyprctl dispatch sendshortcut CTRL, X, activewindow; hyprctl dispatch submap NORMAL
binde = , X, exec, hyprctl dispatch sendshortcut CTRL, X, activewindow; hyprctl dispatch submap NORMAL
binde = , D, exec, hyprctl dispatch sendshortcut CTRL, X, activewindow; hyprctl dispatch submap NORMAL
binde = SHIFT, D, exec, hyprctl dispatch sendshortcut SHIFT, HOME, activewindow; hyprctl dispatch sendshortcut , Delete, activewindow; hyprctl dispatch submap NORMAL
binde = , Y, exec, hyprctl dispatch sendshortcut CTRL, C, activewindow; hyprctl dispatch submap NORMAL
binde = , P, exec, hyprctl dispatch sendshortcut CTRL, V, activewindow; hyprctl dispatch submap NORMAL


# !-- SUB MOTIONS -------------------------------------------------------------
## !-- G-VLINE
bind = , G, submap, G-VLINE
bind = SHIFT, I, submap, G-VLINE
submap = G-VLINE

## Word motions
bind = , G, exec, hyprctl --batch "dispatch sendshortcut , END, activewindow; dispatch sendshortcut CTRL+SHIFT, HOME, activewindow; dispatch submap V-LINE"
bind = SHIFT, G, exec, hyprctl --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut CTRL+SHIFT, END, activewindow; dispatch submap V-LINE"

## !--/ G-VLINE
bind = , ESCAPE, submap, NORMAL
bind = $LEADER, ESCAPE, submap, reset
bind = , catchall, submap, G-VLINE
bind = SHIFT, catchall, submap, G-VLINE
submap = V-LINE
# !--/ SUB MOTIONS ------------------------------------------------------------

## !--/ V-LINE
bind = $LEADER, ESCAPE, submap, reset
bind = , ESCAPE, exec, hyprctl dispatch sendshortcut , Left, activewindow; hyprctl dispatch sendshortcut , Right, activewindow; hyprctl dispatch submap NORMAL
bind = , catchall, submap, V-LINE
submap = reset

# ----------------------------------------------------------------------------- #
# !-- G-MOTION (Extended motions via 'g' prefix)
# ----------------------------------------------------------------------------- #
submap = G-MOTION
bindd = , E, Move to end of previous word (ge), exec, hyprctl dispatch sendshortcut CTRL, LEFT, activewindow; hyprctl dispatch sendshortcut CTRL, LEFT, activewindow; hyprctl dispatch sendshortcut CTRL, RIGHT, activewindow; hyprctl dispatch submap NORMAL
bindd = SHIFT, T, Go to previous tab (gT), exec, hyprctl dispatch sendshortcut CTRL, PAGE_UP, activewindow; hyprctl dispatch submap NORMAL
bindd = , T, Go to next tab (gt), exec, hyprctl dispatch sendshortcut CTRL, PAGE_DOWN, activewindow; hyprctl dispatch submap NORMAL
bindd = , G, Go to document start (gg), exec, hyprctl dispatch sendshortcut CTRL, HOME, activewindow; hyprctl dispatch submap NORMAL

## !--/ G-MOTION
bind = $LEADER, ESCAPE, submap, reset
bind = , ESCAPE, submap, NORMAL
bind = , catchall, submap, G-MOTION
bind = SHIFT, catchall, submap, G-MOTION
submap = reset

# ----------------------------------------------------------------------------- #
# !-- G-VISUAL (Extended visual motions via 'g' prefix)
# ----------------------------------------------------------------------------- #
submap = G-VISUAL

## Word
## ge: Back to end of previous word (with selection)
binde = , E, exec, hyprctl dispatch sendshortcut CTRL, LEFT, activewindow; hyprctl dispatch sendshortcut , LEFT, activewindow; hyprctl dispatch submap NORMAL

# Tab
# bind = SHIFT, T, exec, hyprctl dispatch sendshortcut CTRL, PAGE_UP, activewindow; hyprctl dispatch submap VISUAL
# bind = , T, exec, hyprctl dispatch sendshortcut CTRL, PAGE_DOWN, activewindow; hyprctl dispatch submap VISUAL

# Page
## gg: Go to beginning of file (with selection)
bind = , G, exec, hyprctl dispatch sendshortcut CTRL SHIFT, HOME, activewindow; hyprctl dispatch submap VISUAL
bind = SHIFT, G, exec, hyprctl dispatch sendshortcut CTRL SHIFT, END, activewindow; hyprctl dispatch submap VISUAL

## !--/ G-VISUAL
bind = $LEADER, ESCAPE, submap, reset
bind = , ESCAPE, submap, VISUAL
bind = , catchall, submap, G-VISUAL
submap = reset
