# init.conf
# hypr/.config/hypr/HyprVim/init.conf
#
#    ██╗  ██╗██╗   ██╗██████╗ ██████╗ ██╗   ██╗██╗███╗   ███╗
#    ██║  ██║╚██╗ ██╔╝██╔══██╗██╔══██╗██║   ██║██║████╗ ████║
#    ███████║ ╚████╔╝ ██████╔╝██████╔╝██║   ██║██║██╔████╔██║
#    ██╔══██║  ╚██╔╝  ██╔═══╝ ██╔══██╗╚██╗ ██╔╝██║██║╚██╔╝██║
#    ██║  ██║   ██║   ██║     ██║  ██║ ╚████╔╝ ██║██║ ╚═╝ ██║
#    ╚═╝  ╚═╝   ╚═╝   ╚═╝     ╚═╝  ╚═╝  ╚═══╝  ╚═╝╚═╝     ╚═╝
#
#
################################################################################
# HYPRVIM - VIM-STYLE KEYBINDINGS FOR HYPRLAND
################################################################################
#
# A comprehensive vim-style navigation system for Hyprland using submaps.
# This provides vim-like keybindings across all applications in your Wayland
# session, allowing you to navigate text with familiar vim motions. Think of
# this as a "lightweight" version of vim for basic global text editing. Also
# features Hyprland specific workflows for a more vim-like experience.
#
################################################################################
# CONFIGURATION
################################################################################

# Leader key for vim mode activation (default: SUPER/Windows key)
# Change this to your preferred modifier key if needed.
# Common options: SUPER, ALT, CTRL
#
# NOTE: If you already define $LEADER elsewhere in your Hyprland config,
# you can comment out this line to use your existing definition.
$LEADER= SUPER

################################################################################
# STRUCTURE:
# ----------
# This configuration is split into modular components for maintainability:
#
#   1. vim-modes.conf     - Core vim modes (NORMAL, VISUAL, V-LINE, G-MOTION)
#   2. vim-operators.conf - Operator-pending modes (d, c, y with text objects)
#   3. vim-marks.conf     - Mark operations (set, jump, delete marks)
#
# ACTIVATION:
# -----------
# - Enter vim mode: $LEADER + ESCAPE (typically SUPER + ESCAPE)
# - Emergency exit: ALT + ESCAPE (returns to global bindings)
#
# EXIT STRATEGY:
# --------------
# - ESCAPE: Return to parent mode (e.g., VISUAL -> NORMAL)
# - $LEADER + ESCAPE: Toggle vim mode on/off from any vim submap
# - ALT + ESCAPE: Panic reset to global bindings (emergency exit)
#
# USAGE:
# ------
# In your main hyprland.conf, add:
#   source = ~/.config/hypr/HyprVim/init.conf
#
# And set a keybinding to enter NORMAL mode, e.g.:
#   bind = $LEADER, ESCAPE, submap, NORMAL
#
# FEATURES:
# ---------
# - Character/word/line/page navigation (hjkl, w/b/e, gg/G, etc.)
# - Visual selection modes (v, V for line-wise)
# - Operators with motions (d, c, y + motion)
# - Text objects (iw, aw for inner/around word)
# - Mark system (m to set, ` to jump, ' for line jump, dm to delete)
# - Numeric repeats (e.g., 2dw, 3j, 5w) with multi-digit support (up to 999)
# - Undo/redo (u, Ctrl+r)
# - Find (/, f, F, t, T with n/N for next/previous)
# - Insert mode entry (i, a, o, O, A, I)
# - Paste (p, P)
#
# KNOWN LIMITATIONS:
# ------------------
# - No macros
# - No visual block mode (Ctrl+v)
# - Limited text object support (primarily word objects)
# - No text transformation (depends on application)
# - Character find (f/F/t/T) mapped to application find dialog
# - Application shortcuts may vary (works best with standard shortcuts)
#
# SCRIPT DEPENDENCIES:
# --------------------
$MOTION = ~/.config/hypr/HyprVim/scripts/vim-motion.sh
$COUNT = ~/.config/hypr/HyprVim/scripts/vim-count.sh
$HELP = ~/.config/hypr/HyprVim/scripts/vim-help.sh
$MARKS = ~/.config/hypr/HyprVim/scripts/vim-marks.sh
#
################################################################################

# Help viewer terminal (override in vim-user.conf)
# Default uses kitty with a class that matches the floating window rule below.
# Examples:
#   $HELP_TERMINAL = ghostty --class floating-help -e
#   $HELP_TERMINAL = wezterm start --class floating-help --
#   $HELP_TERMINAL = alacritty --class floating-help -e
#   $HELP_TERMINAL = foot --app-id floating-help -e
$HELP_TERMINAL = kitty --class floating-help -e

# Emergency exit from any vim submap - this is available globally
bindu = ALT, ESCAPE, exec, hyprctl dispatch submap reset

# Window rules for floating help (match the class/app-id set by $HELP_TERMINAL)
windowrule {
  name = windowrule-1
  float = on
  size = (monitor_w*0.8) (monitor_h*0.8)
  center = on
  match:class = ^(floating-help)$
}

# Source modular configuration files
source = ~/.config/hypr/HyprVim/vim-modes.conf
source = ~/.config/hypr/HyprVim/vim-operators.conf
source = ~/.config/hypr/HyprVim/vim-marks.conf

# Optional: User customizations (uncomment after creating vim-user.conf)
# Copy vim-user.conf.example to vim-user.conf, then uncomment the line below:
source = ~/.config/hypr/HyprVim/vim-user.conf

################################################################################
# ACTIVATION BINDING
################################################################################
#
# NOTE: Uncomment and customize this binding to enter NORMAL mode:
# bind = $LEADER, ESCAPE, submap, NORMAL
#
# Or add this to your main hyprland.conf keybindings section.
#
################################################################################

################################################################################
# BASIC VIM-STYLE KEYBINDS FOR HYPRLAND
################################################################################
#
# Uncomment any keybinds below if you don't already use them.
#
# This section is just your basic hyprland window navigation via `hjkl`
#
#################################################################################

# # Focus Movement
# binddu = $LEADER, Left, Move focus left, movefocus, l
# binddu = $LEADER, Right, Move focus right, movefocus, r
# binddu = $LEADER, Up, Move focus up, movefocus, u
# binddu = $LEADER, Down, Move focus down, movefocus, d
# binddu = $LEADER, H, Move focus left (vim-style), movefocus, l
# binddu = $LEADER, L, Move focus right (vim-style), movefocus, r
# binddu = $LEADER, K, Move focus up (vim-style), movefocus, u
# binddu = $LEADER, J, Move focus down (vim-style), movefocus, d
# bindd = $LEADER, TAB, Go to last active workspace, workspace, previous

# # Monitor Navigation
# bindd = $LEADER+CTRL, 1, Move to monitor 1, focusmonitor, 0
# bindd = $LEADER+CTRL, 2, Move to monitor 2, focusmonitor, 1
# bindd = $LEADER+CTRL, 3, Move to monitor 3, focusmonitor, 2
# bindd = $LEADER+CTRL, 4, Move to monitor 4, focusmonitor, 3

# # Move Windows to Monitors
# bindd = $LEADER+CTRL+SHIFT, 1, Move window to monitor 1, movewindow, mon:0
# bindd = $LEADER+CTRL+SHIFT, 2, Move window to monitor 2, movewindow, mon:1
# bindd = $LEADER+CTRL+SHIFT, 3, Move window to monitor 3, movewindow, mon:2
# bindd = $LEADER+CTRL+SHIFT, 4, Move window to monitor 4, movewindow, mon:3

# # Move Windows
# bindd = $LEADER+SHIFT, Left, Move window left, movewindow, l
# bindd = $LEADER+SHIFT, Right, Move window right, movewindow, r
# bindd = $LEADER+SHIFT, Up, Move window up, movewindow, u
# bindd = $LEADER+SHIFT, Down, Move window down, movewindow, d
# binddu = $LEADER+SHIFT, H, Move window left (vim-style), movewindow, l
# binddu = $LEADER+SHIFT, L, Move window right (vim-style), movewindow, r
# binddu = $LEADER+SHIFT, K, Move window up (vim-style), movewindow, u
# binddu = $LEADER+SHIFT, J, Move window down (vim-style), movewindow, d

# # Workspace Navigation
# bindd = $LEADER+CTRL, C, Create new workspace on this monitor, workspace, empty
# bindd = $LEADER, 1, Switch to workspace 1, workspace, 1
# bindd = $LEADER, 2, Switch to workspace 2, workspace, 2
# bindd = $LEADER, 3, Switch to workspace 3, workspace, 3
# bindd = $LEADER, 4, Switch to workspace 4, workspace, 4
# bindd = $LEADER, 5, Switch to workspace 5, workspace, 5
# bindd = $LEADER, 6, Switch to workspace 6, workspace, 6
# bindd = $LEADER, 7, Switch to workspace 7, workspace, 7
# bindd = $LEADER, 8, Switch to workspace 8, workspace, 8
# bindd = $LEADER, 9, Switch to workspace 9, workspace, 9
# bindd = $LEADER, 0, Switch to workspace 10, workspace, 10

# # Move Windows to Workspaces
# bindd = $LEADER+SHIFT, 1, Move window to workspace 1, movetoworkspace, 1
# bindd = $LEADER+SHIFT, 2, Move window to workspace 2, movetoworkspace, 2
# bindd = $LEADER+SHIFT, 3, Move window to workspace 3, movetoworkspace, 3
# bindd = $LEADER+SHIFT, 4, Move window to workspace 4, movetoworkspace, 4
# bindd = $LEADER+SHIFT, 5, Move window to workspace 5, movetoworkspace, 5
# bindd = $LEADER+SHIFT, 6, Move window to workspace 6, movetoworkspace, 6
# bindd = $LEADER+SHIFT, 7, Move window to workspace 7, movetoworkspace, 7
# bindd = $LEADER+SHIFT, 8, Move window to workspace 8, movetoworkspace, 8
# bindd = $LEADER+SHIFT, 9, Move window to workspace 9, movetoworkspace, 9
# bindd = $LEADER+SHIFT, 0, Move window to workspace 10, movetoworkspace, 10
