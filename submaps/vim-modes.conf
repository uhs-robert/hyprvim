# submaps/vim-modes.conf
# hypr/.config/hypr/hyprvim/vim-modes.conf

################################################################################
# VIM-STYLE MODES
################################################################################
#
# This file contains the primary vim modes and their navigation bindings:
# - NORMAL: Primary vim navigation mode (hjkl, word motions, operators)
# - VISUAL: Character-wise visual selection mode
# - LINE: Entry point for V-LINE, handles Up/Down to select line correctly
# - V-LINE: Line-wise visual selection mode
# - G-MOTION: Extended motions accessed via 'g' prefix
# - G-VISUAL: Extended visual motions accessed via 'g' prefix
#
# These modes provide the core vim-style navigation and selection capabilities.
# Operator-pending modes (d, c, y with text objects) are in vim-operators.conf.
# Mark operations are in vim-marks.conf.
#
################################################################################

# ----------------------------------------------------------------------------- #
# !-- NORMAL
# ----------------------------------------------------------------------------- #
submap = NORMAL

## Mode Switches
bindd = , V, Enter visual mode, exec, $COUNT clear; hyprctl dispatch submap VISUAL
bindd = SHIFT, V, Enter line-wise visual mode, exec, $COUNT clear; hyprctl --batch "dispatch sendshortcut , End, activewindow; dispatch sendshortcut SHIFT, Home, activewindow; dispatch submap LINE"
bindd = , G, Extended motions (gg ge gt gT), submap, G-MOTION
bindd = , D, Delete with motion (dw dd diw), submap, D-MOTION
bindd = , C, Change with motion (cw cc ciw), submap, C-MOTION
bindd = , Y, Yank with motion (yw yy yiw), submap, Y-MOTION
bindd = , R, Replace character (r<char>), exec, $REPLACE_CHAR
bindd = SHIFT, R, Replace forward (R), exec, $REPLACE string

## Editor Operations
bindd = $LEADER, N, Open editor with selection, exec, $COUNT clear; hyprctl dispatch submap reset; $OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL
## Mark Operations
bindd = , M, Set mark (ma mb mc...), submap, SET-MARK
bindd = , GRAVE, Jump to mark and exit (`a `b `c...), submap, JUMP-EXIT
bindd = , APOSTROPHE, Jump to mark ('a 'b 'c...), submap, JUMP-MARK

## Register Operations
bindd = SHIFT, APOSTROPHE, Select register ("a "b "0 "_ "/), submap, GET-REGISTER

## Count (digit accumulation for repeating motions)
bindd = , 1, Count: Append digit 1, exec, $COUNT append 1
bindd = , 2, Count: Append digit 2, exec, $COUNT append 2
bindd = , 3, Count: Append digit 3, exec, $COUNT append 3
bindd = , 4, Count: Append digit 4, exec, $COUNT append 4
bindd = , 5, Count: Append digit 5, exec, $COUNT append 5
bindd = , 6, Count: Append digit 6, exec, $COUNT append 6
bindd = , 7, Count: Append digit 7, exec, $COUNT append 7
bindd = , 8, Count: Append digit 8, exec, $COUNT append 8
bindd = , 9, Count: Append digit 9, exec, $COUNT append 9

## Char
bindde = , H, Move left (with count), exec, $MOTION ", LEFT"
bindde = , J, Move down (with count), exec, $MOTION ", DOWN"
bindde = , K, Move up (with count), exec, $MOTION ", UP"
bindde = , L, Move right (with count), exec, $MOTION ", RIGHT"
bindd = SHIFT, H, Jump to line start, exec, $COUNT clear; hyprctl dispatch sendshortcut , HOME, activewindow
bindd = SHIFT, L, Jump to line end, exec, $COUNT clear; hyprctl dispatch sendshortcut , END, activewindow
bindde = SHIFT, J, Move down (with count), exec, $MOTION "CTRL, DOWN"
bindde = SHIFT, K, Move up (with count), exec, $MOTION "CTRL, UP"

## Word
bindde = , B, Move back word (with count), exec, $MOTION "CTRL, LEFT"
bindde = , E, Move to word end (with count), exec, $MOTION --batch "dispatch sendshortcut , RIGHT, activewindow; dispatch sendshortcut CTRL, RIGHT, activewindow; dispatch sendshortcut , LEFT, activewindow"
bindde = , W, Move forward word (with count), exec, $MOTION "CTRL, RIGHT"
bindde = SHIFT, B, Move back WORD (with count), exec, $MOTION "CTRL, LEFT"
bindde = SHIFT, E, Move to WORD end (with count), exec, $MOTION --batch "dispatch sendshortcut CTRL, RIGHT, activewindow; dispatch sendshortcut , LEFT, activewindow"
bindde = SHIFT, W, Move forward WORD (with count), exec, $MOTION "CTRL, RIGHT"

## Line
bindd = SHIFT, MINUS, Jump to first non-blank (^), exec, $COUNT clear; hyprctl dispatch sendshortcut , HOME, activewindow
bindd = SHIFT, 6, Jump to first non-blank (^), exec, $COUNT clear; hyprctl dispatch sendshortcut , HOME, activewindow
bindd = , 0, Jump to line start or append digit, exec, $COUNT handle_zero
bindd = SHIFT, 4, Jump to line end ($), exec, $COUNT clear; hyprctl dispatch sendshortcut , END, activewindow

## Page
bindde = SHIFT, G, Jump to document end, exec, $COUNT clear; hyprctl dispatch sendshortcut CTRL, END, activewindow
bindde = CTRL, D, Scroll down half page (with count), exec, $MOTION ", PAGE_DOWN"
bindde = CTRL, F, Scroll down full page (with count), exec, $MOTION ", PAGE_DOWN"
bindde = CTRL, U, Scroll up half page (with count), exec, $MOTION ", PAGE_UP"
bindde = CTRL, B, Scroll up full page (with count), exec, $MOTION ", PAGE_UP"
bindd = SHIFT, GRAVE, Jump to document end (~), exec, $COUNT clear; hyprctl --batch "dispatch sendshortcut CTRL, END, activewindow; dispatch submap NORMAL"

## Paragraph
bindde = SHIFT, BRACKETLEFT, Jump to paragraph start ({), exec, $MOTION "CTRL, UP"
bindde = SHIFT, BRACKETRIGHT, Jump to paragraph end (}), exec, $MOTION "CTRL, DOWN"

## Undo
bindde = , U, Undo, exec, $MOTION "CTRL, Z"
bindde = CTRL, R, Redo, exec, $MOTION "CTRL, Y"

## Find (f/F/t/T/// ? all use enhanced find)
bindd = , SLASH, Search forward (/), exec, $COUNT clear; $FIND search-forward
bindd = SHIFT, SLASH, Search backward (?), exec, $COUNT clear; $FIND search-backward
bindd = SHIFT, 8, Search word forward (*), exec, $COUNT clear; $FIND forward-word
bindd = SHIFT, 3, Search word backward, exec, $COUNT clear; $FIND backward-word
bindd = , F, Find forward (f), exec, $COUNT clear; $FIND char-forward
bindd = SHIFT, F, Find backward (F), exec, $COUNT clear; $FIND char-backward
bindd = , T, Find till forward (t), exec, $COUNT clear; $FIND char-till-forward
bindd = SHIFT, T, Find till backward (T), exec, $COUNT clear; $FIND char-till-backward
bindd = , N, Find next match (n), exec, $COUNT clear; $FIND next-search
bindd = SHIFT, N, Find previous match (N), exec, $COUNT clear; $FIND prev-search
bindd = , SEMICOLON, Repeat find in same direction (;), exec, $COUNT clear; $FIND next-char
bindd = , COMMA, Repeat find in opposite direction, exec, $COUNT clear; $FIND prev-char

## Enter insert
bindd = , I, Insert before cursor, exec, $COUNT clear; hyprctl dispatch submap INSERT
bindd = , A, Insert after cursor, exec, $COUNT clear; hyprctl --batch "dispatch submap INSERT; dispatch sendshortcut , RIGHT, activewindow"
bindd = SHIFT, A, Insert at line end, exec, $COUNT clear; hyprctl --batch "dispatch submap INSERT; dispatch sendshortcut , END, activewindow"
bindd = SHIFT, I, Insert at line start, exec, $COUNT clear; hyprctl --batch "dispatch submap INSERT; dispatch sendshortcut , HOME, activewindow"

## Open new line
bindd = , O, Open line below, exec, $COUNT clear; hyprctl dispatch sendshortcut , END, activewindow; hyprctl dispatch sendshortcut , Return, activewindow; hyprctl dispatch submap INSERT
bindd = SHIFT, O, Open line above, exec, $COUNT clear; hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut , Return, activewindow; hyprctl dispatch sendshortcut , Up, activewindow; dispatch submap INSERT
bindd = CTRL, O, Open line below (Shift+Enter), exec, $COUNT clear; hyprctl dispatch sendshortcut , END, activewindow; hyprctl dispatch sendshortcut SHIFT, Return, activewindow; hyprctl dispatch submap INSERT
bindd = CTRL SHIFT, O, Open line above (Shift+Enter), exec, $COUNT clear; hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut SHIFT, Return, activewindow; hyprctl dispatch sendshortcut , Up, activewindow; hyprctl dispatch submap INSERT

## Change
bindd = SHIFT, C, Change to line end, exec, $COUNT clear; $MOTION --batch "dispatch sendshortcut SHIFT, End, activewindow" && $REGISTERS handle-delete "CTRL, X" "INSERT"

## Delete
bindd = SHIFT, D, Delete to line end, exec, $MOTION --batch "dispatch sendshortcut SHIFT, End, activewindow" && $REGISTERS handle-delete "CTRL, X" "NORMAL"
bindde = SHIFT, X, Delete char before cursor (with count), exec, $MOTION --batch "dispatch sendshortcut SHIFT, LEFT, activewindow" && $REGISTERS handle-delete "CTRL, X" "NORMAL"
bindde = , X, Delete char under cursor (with count), exec, $MOTION --batch "dispatch sendshortcut SHIFT, RIGHT, activewindow" && $REGISTERS handle-delete "CTRL, X" "NORMAL"

## Paste
bindd = , P, Paste after cursor, exec, $REGISTERS handle-paste "CTRL, V" "NORMAL"
bindd = SHIFT, P, Paste before cursor, exec, $REGISTERS handle-paste "CTRL, V" "NORMAL"

## Indent
bindde = SHIFT, PERIOD, Indent line (>), exec, hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut , TAB, activewindow
bindde = SHIFT, COMMA, Unindent line (<), exec, hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut SHIFT, TAB, activewindow

## !--/ NORMAL
bind = $LEADER, ESCAPE, exec, $COUNT clear; hyprctl dispatch submap reset
bind = , ESCAPE, exec, $COUNT clear; $FIND deactivate; hyprctl dispatch submap NORMAL
bind = , catchall, submap, NORMAL
bind = SHIFT, catchall, submap, NORMAL
submap = reset

# ----------------------------------------------------------------------------- #
# !-- INSERT
# ----------------------------------------------------------------------------- #
submap = INSERT

## !--/ INSERT
bind = $LEADER, ESCAPE, exec, $COUNT clear; hyprctl dispatch submap reset
bind = , ESCAPE, exec, $COUNT clear; $FIND deactivate; hyprctl dispatch submap NORMAL
submap = reset

# ----------------------------------------------------------------------------- #
# !-- VISUAL
# ----------------------------------------------------------------------------- #
submap = VISUAL

## Count (digit accumulation for repeating motions)
bindd = , 1, Count: Append digit 1, exec, $COUNT append 1
bindd = , 2, Count: Append digit 2, exec, $COUNT append 2
bindd = , 3, Count: Append digit 3, exec, $COUNT append 3
bindd = , 4, Count: Append digit 4, exec, $COUNT append 4
bindd = , 5, Count: Append digit 5, exec, $COUNT append 5
bindd = , 6, Count: Append digit 6, exec, $COUNT append 6
bindd = , 7, Count: Append digit 7, exec, $COUNT append 7
bindd = , 8, Count: Append digit 8, exec, $COUNT append 8
bindd = , 9, Count: Append digit 9, exec, $COUNT append 9

## Mode Switches
bind = , G, submap, G-VISUAL
bind = SHIFT, V, exec, hyprctl dispatch sendshortcut , End, activewindow; hyprctl dispatch sendshortcut SHIFT, Home, activewindow; hyprctl dispatch submap LINE
bind = , V, submap, VISUAL

## Editor Operations
bindd = $LEADER, N, Open editor with selection, exec, $COUNT clear; hyprctl dispatch submap reset; $OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL

## Char
binde = , J, exec, $MOTION "SHIFT, DOWN"
binde = , K, exec, $MOTION "SHIFT, UP"
binde = , L, exec, $MOTION "SHIFT, RIGHT"
binde = , H, exec, $MOTION "SHIFT, LEFT"
binde = SHIFT, J, exec, $MOTION "CTRL SHIFT, DOWN"
binde = SHIFT, K, exec, $MOTION "CTRL SHIFT, UP"
binde = SHIFT, L, exec, $MOTION "SHIFT, END"
binde = SHIFT, H, exec, $MOTION "SHIFT, HOME"

## Word
binde = , B, exec, $MOTION "CTRL SHIFT, LEFT"
binde = , E, exec, $MOTION "CTRL SHIFT, RIGHT"
binde = , W, exec, $MOTION "CTRL SHIFT, RIGHT"
binde = SHIFT, B, exec, $MOTION "CTRL SHIFT, LEFT"
binde = SHIFT, E, exec, $MOTION "CTRL SHIFT, RIGHT"
binde = SHIFT, W, exec, $MOTION "CTRL SHIFT, RIGHT"

## Paragraph
binde = SHIFT, BRACKETLEFT, exec, $MOTION "CTRL SHIFT, UP"
binde = SHIFT, BRACKETRIGHT, exec, $MOTION "CTRL SHIFT, DOWN"

## Line
binde = SHIFT, MINUS, sendshortcut, SHIFT, HOME, activewindow
binde = , 0, sendshortcut, SHIFT, HOME, activewindow
binde = SHIFT, 4, sendshortcut, SHIFT, END, activewindow

## Page
binde = SHIFT, G, exec, hyprctl dispatch sendshortcut CTRL SHIFT, END, activewindow; hyprctl dispatch submap VISUAL

## Undo
binde = , U, exec, $MOTION "CTRL, Z"
binde = SHIFT, U, exec, $MOTION "CTRL, Z"
binde = CTRL, R, exec, $MOTION "CTRL, Y"

## Change
bind = , C, exec, $REGISTERS handle-delete "CTRL, X" "INSERT"
bind = SHIFT, C, exec, hyprctl dispatch submap VISUAL

## Delete
binde = SHIFT, X, exec, $REGISTERS handle-delete "CTRL, X" "NORMAL"
binde = , X, exec, $REGISTERS handle-delete "CTRL, X" "NORMAL"
binde = , D, exec, $REGISTERS handle-delete "CTRL, X" "NORMAL"
binde = SHIFT, D, exec, hyprctl dispatch sendshortcut SHIFT, HOME, activewindow; hyprctl dispatch sendshortcut , Delete, activewindow; hyprctl dispatch submap NORMAL
bind = , Y, exec, $REGISTERS handle-yank "CTRL, C" "NORMAL"
bind = SHIFT, Y, exec, $MOTION --batch "dispatch sendshortcut , END, activewindow; dispatch sendshortcut SHIFT, HOME, activewindow" && $REGISTERS handle-yank "CTRL, C" "NORMAL"
binde = , P, exec, $REGISTERS handle-paste "CTRL, V" "NORMAL"
binde = SHIFT, P, exec, $REGISTERS handle-paste "CTRL, V" "NORMAL"

## Indent
binde = SHIFT, PERIOD, exec, hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut , TAB, activewindow
binde = SHIFT, COMMA, exec, hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut SHIFT, TAB, activewindow

## Normal keyboard shortcuts allowed
binde = CTRL, X, exec, hyprctl --batch "dispatch sendshortcut CTRL, X, activewindow; dispatch submap NORMAL"
binde = CTRL, P, exec, hyprctl --batch "dispatch sendshortcut CTRL, V, activewindow; dispatch submap NORMAL"
binde = CTRL, V, exec, hyprctl --batch "dispatch sendshortcut CTRL, V, activewindow; dispatch submap NORMAL"
binde = CTRL, B, exec, hyprctl dispatch sendshortcut CTRL, B, activewindow; hyprctl dispatch submap VISUAL
binde = CTRL, I, exec, hyprctl dispatch sendshortcut CTRL, I, activewindow; hyprctl dispatch submap VISUAL
binde = CTRL, U, exec, hyprctl dispatch sendshortcut CTRL, U, activewindow; hyprctl dispatch submap VISUAL
binde = CTRL, S, exec, hyprctl dispatch sendshortcut CTRL, S, activewindow; hyprctl dispatch submap VISUAL

# !-- SUB MOTIONS -------------------------------------------------------------
## !-- V-I
bind = , I, submap, V-I
bind = SHIFT, I, submap, V-I
submap = V-I

## Word motions
bind = , W, exec, $MOTION --batch "dispatch sendshortcut CTRL, RIGHT, activewindow; dispatch sendshortcut CTRL+SHIFT, LEFT, activewindow; dispatch submap VISUAL"
bind = SHIFT, W, exec, $MOTION --batch "dispatch sendshortcut CTRL, RIGHT, activewindow; dispatch sendshortcut CTRL+SHIFT, LEFT, activewindow; dispatch submap VISUAL"

## Paragraph motions
bind = , P, exec, $MOTION --batch "dispatch sendshortcut CTRL, UP, activewindow; dispatch sendshortcut CTRL+SHIFT, DOWN, activewindow; dispatch submap VISUAL"
bind = SHIFT, P, exec, $MOTION --batch "dispatch sendshortcut CTRL, UP, activewindow; dispatch sendshortcut CTRL+SHIFT, DOWN, activewindow; dispatch submap VISUAL"

## !--/ V-I
bind = , ESCAPE, submap, NORMAL
bind = $LEADER, ESCAPE, submap, reset
bind = , catchall, submap, VISUAL
bind = SHIFT, catchall, submap, VISUAL
submap = VISUAL

## !-- V-A
bind = , A, submap, V-A
bind = SHIFT, A, submap, V-A
submap = V-A

## Word motions
bind = , W, exec, hyprctl --batch "dispatch sendshortcut CTRL, LEFT, activewindow; dispatch sendshortcut CTRL+SHIFT, RIGHT, activewindow; dispatch submap VISUAL"
bind = SHIFT, W, exec, $MOTION --batch "dispatch sendshortcut CTRL, LEFT, activewindow; dispatch sendshortcut CTRL+SHIFT, RIGHT, activewindow; dispatch submap VISUAL"

## Paragraph motions
bind = , P, exec, hyprctl --batch "dispatch sendshortcut CTRL, UP, activewindow; dispatch sendshortcut CTRL+SHIFT, DOWN, activewindow; dispatch submap VISUAL"
bind = SHIFT, P, exec, $MOTION --batch "dispatch sendshortcut CTRL, UP, activewindow; dispatch sendshortcut CTRL+SHIFT, DOWN, activewindow; dispatch submap VISUAL"

## !--/ V-A
bind = , ESCAPE, submap, NORMAL
bind = $LEADER, ESCAPE, submap, reset
bind = , catchall, submap, VISUAL
bind = SHIFT, catchall, submap, VISUAL
submap = VISUAL
# !--/ SUB MOTIONS ------------------------------------------------------------

## !--/ VISUAL
bind = $LEADER, ESCAPE, submap, reset
bind = , ESCAPE, exec, hyprctl dispatch sendshortcut , Left, activewindow; hyprctl dispatch sendshortcut , Right, activewindow; hyprctl dispatch submap NORMAL
bind = , catchall, submap, VISUAL
submap = reset

# ----------------------------------------------------------------------------- #
# !-- LINE (Entering V-LINE mode)
# ----------------------------------------------------------------------------- #
submap = LINE

## Count (digit accumulation for repeating motions)
bindd = , 1, Count: Append digit 1, exec, $COUNT append 1
bindd = , 2, Count: Append digit 2, exec, $COUNT append 2
bindd = , 3, Count: Append digit 3, exec, $COUNT append 3
bindd = , 4, Count: Append digit 4, exec, $COUNT append 4
bindd = , 5, Count: Append digit 5, exec, $COUNT append 5
bindd = , 6, Count: Append digit 6, exec, $COUNT append 6
bindd = , 7, Count: Append digit 7, exec, $COUNT append 7
bindd = , 8, Count: Append digit 8, exec, $COUNT append 8
bindd = , 9, Count: Append digit 9, exec, $COUNT append 9

## Editor Operations
bindd = $LEADER, N, Open editor with selection, exec, $COUNT clear; hyprctl dispatch submap reset; $OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL

## Char
bindd = , J, Move down into V-LINE (with count), exec, $LINE_MOTION down
bindd = , K, Move up into V-LINE (with count), exec, $LINE_MOTION up

## Go
bind = SHIFT, G, exec, hyprctl --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut CTRL SHIFT, END, activewindow; dispatch submap V-LINE"

## Paragraph
bindd = SHIFT, BRACKETLEFT, Move to previous paragraph (with count), exec, $LINE_MOTION paragraph-up
bindd = SHIFT, BRACKETRIGHT, Move to next paragraph (with count), exec, $LINE_MOTION paragraph-down

## Delete/Change/Yank
bind = , D, exec, $MOTION --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut SHIFT, End, activewindow"; $REGISTERS handle-delete "CTRL, X" "NORMAL"
bind = SHIFT, D, exec, $MOTION --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut SHIFT, End, activewindow"; $REGISTERS handle-delete "CTRL, X" "NORMAL"
bind = , X, exec, $MOTION --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut SHIFT, End, activewindow"; $REGISTERS handle-delete "CTRL, X" "NORMAL"
bind = SHIFT, X, exec, $MOTION --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut SHIFT, End, activewindow"; $REGISTERS handle-delete "CTRL, X" "NORMAL"
bind = , C, exec, $MOTION --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut SHIFT, End, activewindow" && $REGISTERS handle-delete "CTRL, X" "INSERT"
bind = , Y, exec, $MOTION --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut SHIFT, End, activewindow" && $REGISTERS handle-yank "CTRL, C" "NORMAL"
bind = SHIFT, Y, exec, $MOTION --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut SHIFT, End, activewindow" && $REGISTERS handle-yank "CTRL, C" "NORMAL"

## Insert
bind = , I, exec, $MOTION --batch "dispatch sendshortcut , HOME, activewindow; dispatch submap INSERT"
bind = SHIFT, I, exec, $MOTION --batch "dispatch sendshortcut , HOME, activewindow; dispatch submap INSERT"
bind = , A, exec, $MOTION --batch "dispatch sendshortcut , END, activewindow; dispatch submap INSERT"
bind = SHIFT, A, exec, $MOTION --batch "dispatch sendshortcut , END, activewindow; dispatch submap INSERT"

## Indent
binde = SHIFT, PERIOD, exec, hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut , TAB, activewindow
binde = SHIFT, COMMA, exec, hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut SHIFT, TAB, activewindow

## Normal keyboard shortcuts allowed
binde = CTRL, X, exec, hyprctl --batch "dispatch sendshortcut CTRL, X, activewindow; dispatch submap NORMAL"
binde = CTRL, P, exec, hyprctl --batch "dispatch sendshortcut CTRL, V, activewindow; dispatch submap NORMAL"
binde = CTRL, V, exec, hyprctl --batch "dispatch sendshortcut CTRL, V, activewindow; dispatch submap NORMAL"

# !-- SUB MOTIONS -------------------------------------------------------------
## !-- G-LINE
bind = , G, submap, G-LINE
bind = SHIFT, I, submap, G-LINE
submap = G-LINE

## Word motions
bind = , G, exec, hyprctl --batch "dispatch sendshortcut , END, activewindow; dispatch sendshortcut CTRL+SHIFT, HOME, activewindow; dispatch submap V-LINE"
bind = SHIFT, G, exec, hyprctl --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut CTRL+SHIFT, END, activewindow; dispatch submap V-LINE"

## Editor
bindd = , E, Open editor with selection, exec, $COUNT clear; hyprctl dispatch submap reset; $OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL
bindd = , N, Open editor with selection, exec, $COUNT clear; hyprctl dispatch submap reset; $OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL

## !--/ G-LINE
bind = , ESCAPE, submap, NORMAL
bind = $LEADER, ESCAPE, submap, reset
bind = , catchall, submap, G-LINE
bind = SHIFT, catchall, submap, G-LINE
submap = LINE
# !--/ SUB MOTIONS -------------------------------------------------------------

## Basic text formatting shortcuts allowed
binde = CTRL, B, exec, hyprctl dispatch sendshortcut CTRL, B, activewindow; hyprctl dispatch submap LINE
binde = CTRL, I, exec, hyprctl dispatch sendshortcut CTRL, I, activewindow; hyprctl dispatch submap LINE
binde = CTRL, U, exec, hyprctl dispatch sendshortcut CTRL, U, activewindow; hyprctl dispatch submap LINE
binde = CTRL, S, exec, hyprctl dispatch sendshortcut CTRL, S, activewindow; hyprctl dispatch submap LINE

## !--/ LINE
bind = $LEADER, ESCAPE, submap, reset
bind = , ESCAPE, exec, hyprctl dispatch sendshortcut , Left, activewindow; hyprctl dispatch sendshortcut , Right, activewindow; hyprctl dispatch submap NORMAL
bind = , catchall, submap, LINE
bind = SHIFT, catchall, submap, LINE
submap = reset

# ----------------------------------------------------------------------------- #
# !-- V-LINE (Line-wise visual mode)
# ----------------------------------------------------------------------------- #
submap = V-LINE

## Count (digit accumulation for repeating motions)
bindd = , 1, Count: Append digit 1, exec, $COUNT append 1
bindd = , 2, Count: Append digit 2, exec, $COUNT append 2
bindd = , 3, Count: Append digit 3, exec, $COUNT append 3
bindd = , 4, Count: Append digit 4, exec, $COUNT append 4
bindd = , 5, Count: Append digit 5, exec, $COUNT append 5
bindd = , 6, Count: Append digit 6, exec, $COUNT append 6
bindd = , 7, Count: Append digit 7, exec, $COUNT append 7
bindd = , 8, Count: Append digit 8, exec, $COUNT append 8
bindd = , 9, Count: Append digit 9, exec, $COUNT append 9

## Editor Operations
bindd = $LEADER, N, Open editor with selection, exec, $COUNT clear; hyprctl dispatch submap reset; $OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL

## Char
binde = , J, exec, $MOTION --batch "dispatch sendshortcut SHIFT, DOWN, activewindow; dispatch sendshortcut SHIFT, END, activewindow"
binde = , K, exec, $MOTION --batch "dispatch sendshortcut SHIFT, UP, activewindow; dispatch sendshortcut SHIFT, HOME, activewindow"
binde = , L, exec, $MOTION "SHIFT, RIGHT"
binde = , H, exec, $MOTION "SHIFT, LEFT"

## Paragraph
binde = SHIFT, BRACKETLEFT, exec, $MOTION --batch "dispatch sendshortcut , END, activewindow; dispatch sendshortcut CTRL SHIFT, UP, activewindow"
binde = SHIFT, BRACKETRIGHT, exec, $MOTION --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut CTRL SHIFT, DOWN, activewindow"

## Page
binde = CTRL, D, sendshortcut, , PAGE_DOWN, activewindow
binde = CTRL, F, sendshortcut, , PAGE_DOWN, activewindow
binde = SHIFT, G, exec, hyprctl dispatch sendshortcut CTRL SHIFT, END, activewindow; hyprctl dispatch submap V-LINE

## Undo
binde = , U, exec, $MOTION "CTRL, Z"
binde = CTRL, R, exec, $MOTION "CTRL, Y"

## Change
bind = , C, exec, $REGISTERS handle-delete "CTRL, X" "INSERT"

## Delete
binde = SHIFT, X, exec, $REGISTERS handle-delete "CTRL, X" "NORMAL"
binde = , X, exec, $REGISTERS handle-delete "CTRL, X" "NORMAL"
binde = , D, exec, $REGISTERS handle-delete "CTRL, X" "NORMAL"
binde = SHIFT, D, exec, hyprctl dispatch sendshortcut SHIFT, HOME, activewindow; hyprctl dispatch sendshortcut , Delete, activewindow; hyprctl dispatch submap NORMAL
binde = , Y, exec, $REGISTERS handle-yank "CTRL, C" "NORMAL"
binde = , P, exec, $REGISTERS handle-paste "CTRL, V" "NORMAL"

## Indent
binde = SHIFT, PERIOD, exec, hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut , TAB, activewindow
binde = SHIFT, COMMA, exec, hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut SHIFT, TAB, activewindow

## Normal keyboard shortcuts allowed
binde = CTRL, X, exec, hyprctl --batch "dispatch sendshortcut CTRL, X, activewindow; dispatch submap NORMAL"
binde = CTRL, P, exec, hyprctl --batch "dispatch sendshortcut CTRL, V, activewindow; dispatch submap NORMAL"
binde = CTRL, V, exec, hyprctl --batch "dispatch sendshortcut CTRL, V, activewindow; dispatch submap NORMAL"

# !-- SUB MOTIONS -------------------------------------------------------------
## !-- G-VLINE
bind = , G, submap, G-VLINE
bind = SHIFT, I, submap, G-VLINE
submap = G-VLINE

## Word motions
bind = , G, exec, hyprctl --batch "dispatch sendshortcut , END, activewindow; dispatch sendshortcut CTRL+SHIFT, HOME, activewindow; dispatch submap V-LINE"
bind = SHIFT, G, exec, hyprctl --batch "dispatch sendshortcut , HOME, activewindow; dispatch sendshortcut CTRL+SHIFT, END, activewindow; dispatch submap V-LINE"

## Editor
bindd = , E, Open editor with selection, exec, $COUNT clear; hyprctl dispatch submap reset; $OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL
bindd = , N, Open editor with selection, exec, $COUNT clear; hyprctl dispatch submap reset; $OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL

## !--/ G-VLINE
bind = , ESCAPE, submap, NORMAL
bind = $LEADER, ESCAPE, submap, reset
bind = , catchall, submap, G-VLINE
bind = SHIFT, catchall, submap, G-VLINE
submap = V-LINE
# !--/ SUB MOTIONS ------------------------------------------------------------

## Basic text formatting shortcuts allowed
binde = CTRL, B, exec, hyprctl dispatch sendshortcut CTRL, B, activewindow; hyprctl dispatch submap V-LINE
binde = CTRL, I, exec, hyprctl dispatch sendshortcut CTRL, I, activewindow; hyprctl dispatch submap V-LINE
binde = CTRL, U, exec, hyprctl dispatch sendshortcut CTRL, U, activewindow; hyprctl dispatch submap V-LINE
binde = CTRL, S, exec, hyprctl dispatch sendshortcut CTRL, S, activewindow; hyprctl dispatch submap V-LINE

## !--/ V-LINE
bind = $LEADER, ESCAPE, submap, reset
bind = , ESCAPE, exec, hyprctl dispatch sendshortcut , Left, activewindow; hyprctl dispatch sendshortcut , Right, activewindow; hyprctl dispatch submap NORMAL
bind = , catchall, submap, V-LINE
bind = SHIFT, catchall, submap, V-LINE
submap = reset

# ----------------------------------------------------------------------------- #
# !-- G-MOTION (Extended motions via 'g' prefix)
# ----------------------------------------------------------------------------- #
submap = G-MOTION

## G-MOTION
bindd = , E, Move to end of previous word (ge), exec, $MOTION --batch "dispatch sendshortcut CTRL, LEFT, activewindow; dispatch sendshortcut CTRL, LEFT, activewindow; dispatch sendshortcut CTRL, RIGHT, activewindow; dispatch submap NORMAL"
bindd = SHIFT, T, Go to previous tab (gT), exec, hyprctl dispatch sendshortcut CTRL, PAGE_UP, activewindow; hyprctl dispatch submap NORMAL
bindd = , T, Go to next tab (gt), exec, hyprctl dispatch sendshortcut CTRL, PAGE_DOWN, activewindow; hyprctl dispatch submap NORMAL
bindd = , G, Go to document start (gg), exec, hyprctl dispatch sendshortcut CTRL, HOME, activewindow; hyprctl dispatch submap NORMAL
bindd = SHIFT, G, Go to document end (G), exec, hyprctl dispatch sendshortcut CTRL, END, activewindow; hyprctl dispatch submap NORMAL
bindd = , H, Show keybindings help (gh), exec, $COUNT clear; hyprctl dispatch submap INSERT; $HELP_TERMINAL $HELP
bindd = , M, Show marks list (gm), exec, $COUNT clear; $MARKS list; hyprctl dispatch submap NORMAL
bindd = $LEADER, N, Open editor with selection, exec, $COUNT clear; hyprctl dispatch submap reset; $OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL

## !--/ G-MOTION
bind = $LEADER, ESCAPE, submap, reset
bind = , ESCAPE, submap, NORMAL
bind = , catchall, submap, G-MOTION
bind = SHIFT, catchall, submap, G-MOTION
submap = reset

# ----------------------------------------------------------------------------- #
# !-- G-VISUAL (Extended visual motions via 'g' prefix)
# ----------------------------------------------------------------------------- #
submap = G-VISUAL

## Word
## ge: Back to end of previous word (with selection)
binde = , E, exec, $MOTION --batch "dispatch sendshortcut CTRL, LEFT, activewindow; dispatch sendshortcut , LEFT, activewindow; dispatch submap NORMAL"

# Tab
# bind = SHIFT, T, exec, hyprctl dispatch sendshortcut CTRL, PAGE_UP, activewindow; hyprctl dispatch submap VISUAL
# bind = , T, exec, hyprctl dispatch sendshortcut CTRL, PAGE_DOWN, activewindow; hyprctl dispatch submap VISUAL

# Page
## gg: Go to beginning of file (with selection)
bind = , G, exec, hyprctl dispatch sendshortcut CTRL SHIFT, HOME, activewindow; hyprctl dispatch submap VISUAL
bind = SHIFT, G, exec, hyprctl dispatch sendshortcut CTRL SHIFT, END, activewindow; hyprctl dispatch submap VISUAL

## Editor
bindd = $LEADER, N, Open editor with selection, exec, $COUNT clear; hyprctl dispatch submap reset; $OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL

## !--/ G-VISUAL
bind = $LEADER, ESCAPE, submap, reset
bind = , ESCAPE, submap, VISUAL
bind = , catchall, submap, G-VISUAL
submap = reset
