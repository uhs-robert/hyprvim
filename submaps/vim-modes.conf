# hypr/.config/hypr/hyprvim/vim-modes.conf

################################################################################
# VIM-STYLE MODES
################################################################################
#
# This file contains the primary vim modes and their navigation bindings:
# - NORMAL: Primary vim navigation mode (hjkl, word motions, operators)
# - VISUAL: Character-wise visual selection mode
# - V-LINE: Line-wise visual selection mode (handles first-motion with state flag)
# - G-MOTION: Extended motions accessed via 'g' prefix
# - G-VISUAL: Extended visual motions accessed via 'g' prefix
#
# These modes provide the core vim-style navigation and selection capabilities.
# Operator-pending modes (d, c, y with text objects) are in vim-operators.conf.
# Mark operations are in vim-marks.conf.
#
################################################################################

# ----------------------------------------------------------------------------- #
# !-- NORMAL
# ----------------------------------------------------------------------------- #
submap = NORMAL

## Whichkey Help
### NOTE: Press ? to open the which-key. It automatically dismisses on any keypress but can be opened anytime from any submap.
bind = SHIFT, SLASH, exec, $HYPRVIM_WHICH_KEY info

## Mode Switches
bindd = , V, +Visual, exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap VISUAL
bindd = SHIFT, V, +V-Line, exec, $HYPRVIM_COUNT clear; $HYPRVIM_LINE_MOTION enter-vline
bindd = , G, +Go, submap, G-MOTION
bindd = , C, +Change, exec, hyprctl dispatch submap C-MOTION
bindd = , Y, +Yank, exec, hyprctl dispatch submap Y-MOTION
bindd = , D, +Delete, exec, hyprctl dispatch submap D-MOTION
bindd = , R, Replace char, exec, $HYPRVIM_REPLACE_CHAR
bindd = SHIFT, R, Replace forward, exec, $HYPRVIM_REPLACE string
bindd = , M, +Mark, exec, $HYPRVIM_MARKS after NORMAL && hyprctl dispatch submap SET-MARK
bindd = , APOSTROPHE, +Jump to Mark, exec, $HYPRVIM_COUNT clear; $HYPRVIM_MARKS after NORMAL && hyprctl dispatch submap JUMP-MARK
bindd = , GRAVE, +Jump to Mark and Exit, exec, $HYPRVIM_COUNT clear; $HYPRVIM_MARKS after reset hyprctl dispatch submap JUMP-MARK
bindd = SHIFT, APOSTROPHE, +Register, submap, GET-REGISTER
bindd = SHIFT, SEMICOLON, Command mode (:), exec, $HYPRVIM_COUNT clear; $HYPRVIM_COMMAND prompt

## Editor Operations
bindd = $HYPRVIM_LEADER, N, Edit selection in Vim (Normal), exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset; $HYPRVIM_OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL
bindd = $HYPRVIM_LEADER, I, Edit selection in Vim (Insert), exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset; $HYPRVIM_OPEN_VIM --copy-selected --insert-mode; hyprctl dispatch submap NORMAL

## Count (digit accumulation for repeating motions)
bindd = , 0, Start of line, exec, $HYPRVIM_COUNT handle_zero
bind = , 1, exec, $HYPRVIM_COUNT append 1
bind = , 2, exec, $HYPRVIM_COUNT append 2
bind = , 3, exec, $HYPRVIM_COUNT append 3
bind = , 4, exec, $HYPRVIM_COUNT append 4
bind = , 5, exec, $HYPRVIM_COUNT append 5
bind = , 6, exec, $HYPRVIM_COUNT append 6
bind = , 7, exec, $HYPRVIM_COUNT append 7
bind = , 8, exec, $HYPRVIM_COUNT append 8
bind = , 9, exec, $HYPRVIM_COUNT append 9

## Char
bindde = , H, Left, exec, $HYPRVIM_MOTION ", LEFT"
bindde = , J, Down, exec, $HYPRVIM_MOTION ", DOWN"
bindde = , K, Up, exec, $HYPRVIM_MOTION ", UP"
bindde = , L, Right, exec, $HYPRVIM_MOTION ", RIGHT"
bindd = SHIFT, H, Start of line, exec, $HYPRVIM_COUNT clear; hyprctl dispatch sendshortcut , HOME, activewindow
bindd = SHIFT, L, End of line, exec, $HYPRVIM_COUNT clear; hyprctl dispatch sendshortcut , END, activewindow
bindde = SHIFT, J, Down to start of next line, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut CTRL, DOWN, activewindow; dispatch sendshortcut , HOME, activewindow"
bindde = SHIFT, K, Up to start of prev line, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut CTRL, UP, activewindow; dispatch sendshortcut , HOME, activewindow"
bindde = CTRL, H, Ctrl left, exec, $HYPRVIM_MOTION "CTRL, LEFT"
bindde = CTRL, J, Ctrl down, exec, $HYPRVIM_MOTION "CTRL, DOWN"
bindde = CTRL, K, Ctrl up, exec, $HYPRVIM_MOTION "CTRL, UP"
bindde = CTRL, L, Ctrl right, exec, $HYPRVIM_MOTION "CTRL, RIGHT"
binde = , BackSpace, exec, $HYPRVIM_WHICH_KEY --close; $HYPRVIM_MOTION ", LEFT"

## Word
bindde = , B, Prev word, exec, $HYPRVIM_MOTION "CTRL, LEFT"
bindde = , E, Next end of word, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut , RIGHT, activewindow; dispatch sendshortcut CTRL, RIGHT, activewindow; dispatch sendshortcut , LEFT, activewindow"
bindde = , W, Next word, exec, $HYPRVIM_MOTION "CTRL, RIGHT"
bindde = SHIFT, B, Prev WORD, exec, $HYPRVIM_MOTION "CTRL, LEFT"
bindde = SHIFT, E, Next end of WORD, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut CTRL, RIGHT, activewindow; dispatch sendshortcut , LEFT, activewindow"
bindde = SHIFT, W, Next WORD, exec, $HYPRVIM_MOTION "CTRL, RIGHT"

## Line
bindd = SHIFT, MINUS, Start of line, exec, $HYPRVIM_COUNT clear; hyprctl dispatch sendshortcut , HOME, activewindow
bindd = SHIFT, 6, Start of line, exec, $HYPRVIM_COUNT clear; hyprctl dispatch sendshortcut , HOME, activewindow
bindd = SHIFT, 4, End of line, exec, $HYPRVIM_COUNT clear; hyprctl dispatch sendshortcut , END, activewindow

## Page
bindd = SHIFT, G, Last line, exec, $HYPRVIM_COUNT clear; hyprctl dispatch sendshortcut CTRL, END, activewindow
bindd = SHIFT, GRAVE, Last line, exec, $HYPRVIM_COUNT clear; hyprctl dispatch sendshortcut CTRL, END, activewindow
bindde = CTRL, D, Scroll down, exec, $HYPRVIM_MOTION ", PAGE_DOWN"
bindde = CTRL, F, Scroll down, exec, $HYPRVIM_MOTION ", PAGE_DOWN"
bindde = CTRL, E, Scroll down, exec, $HYPRVIM_MOTION ", PAGE_DOWN"
bindde = CTRL, U, Scroll up, exec, $HYPRVIM_MOTION ", PAGE_UP"
bindde = CTRL, B, Scroll up, exec, $HYPRVIM_MOTION ", PAGE_UP"
bindde = CTRL, Y, Scroll up, exec, $HYPRVIM_MOTION ", PAGE_UP"

## Paragraph
bindde = SHIFT, BRACKETLEFT, Paragraph start, exec, $HYPRVIM_MOTION "CTRL, UP"
bindde = SHIFT, BRACKETRIGHT, Paragraph end, exec, $HYPRVIM_MOTION "CTRL, DOWN"

## Undo
bindde = , U, Undo, exec, $HYPRVIM_MOTION "CTRL, Z"
bindde = CTRL, R, Redo, exec, $HYPRVIM_MOTION "CTRL, Y"

## Find (f/F/t/T/// ? all use enhanced find)
bindd = , SLASH, Search forward, exec, $HYPRVIM_COUNT clear; $HYPRVIM_FIND search-forward
bindd = SHIFT, 8, Search word forward, exec, $HYPRVIM_COUNT clear; $HYPRVIM_FIND forward-word
bindd = , F, Find forward, exec, $HYPRVIM_COUNT clear; $HYPRVIM_FIND char-forward
bindd = , T, Find till forward, exec, $HYPRVIM_COUNT clear; $HYPRVIM_FIND char-till-forward
bindd = , N, Find next match, exec, $HYPRVIM_COUNT clear; $HYPRVIM_FIND next-search
bindd = SHIFT, N, Find prev match, exec, $HYPRVIM_COUNT clear; $HYPRVIM_FIND prev-search
bindd = , SEMICOLON, Repeat find, exec, $HYPRVIM_COUNT clear; $HYPRVIM_FIND next-char
bind = SHIFT, 3, exec, $HYPRVIM_COUNT clear; $HYPRVIM_FIND backward-word
bind = SHIFT, F, exec, $HYPRVIM_COUNT clear; $HYPRVIM_FIND char-backward
bind = SHIFT, T, exec, $HYPRVIM_COUNT clear; $HYPRVIM_FIND char-till-backward
bind = , COMMA, exec, $HYPRVIM_COUNT clear; $HYPRVIM_FIND prev-char

## Enter insert
bindd = , I, Insert before cursor, exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap INSERT
bindd = , A, Insert after cursor, exec, $HYPRVIM_COUNT clear; hyprctl --batch "dispatch submap INSERT; dispatch sendshortcut , RIGHT, activewindow"
bindd = SHIFT, A, Insert at end of line, exec, $HYPRVIM_COUNT clear; hyprctl --batch "dispatch submap INSERT; dispatch sendshortcut , END, activewindow"
bindd = SHIFT, I, Insert at start of line, exec, $HYPRVIM_COUNT clear; hyprctl --batch "dispatch submap INSERT; dispatch sendshortcut , HOME, activewindow"

## Open new line
bindd = , O, Insert at line below, exec, $HYPRVIM_COUNT clear; hyprctl dispatch sendshortcut , END, activewindow; hyprctl dispatch sendshortcut , Return, activewindow; hyprctl dispatch submap INSERT
bindd = SHIFT, O, Insert at line above, exec, $HYPRVIM_COUNT clear; hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut , Return, activewindow; hyprctl dispatch sendshortcut , Up, activewindow; dispatch submap INSERT
bindd = CTRL, O, Insert at line below (Shift+Enter), exec, $HYPRVIM_COUNT clear; hyprctl dispatch sendshortcut , END, activewindow; hyprctl dispatch sendshortcut SHIFT, Return, activewindow; hyprctl dispatch submap INSERT
bindd = CTRL SHIFT, O, Insert at line above (Shift+Enter), exec, $HYPRVIM_COUNT clear; hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut SHIFT, Return, activewindow; hyprctl dispatch sendshortcut , Up, activewindow; hyprctl dispatch submap INSERT

## Change
bindd = SHIFT, C, Change to end of line, exec, $HYPRVIM_COUNT clear; $HYPRVIM_MOTION --batch "dispatch sendshortcut SHIFT, End, activewindow" && $HYPRVIM_REGISTERS handle-delete "CTRL, X" "INSERT"

## Delete
bindd = SHIFT, D, Delete to end of line, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut SHIFT, End, activewindow" && $HYPRVIM_REGISTERS handle-delete "CTRL, X" "NORMAL"
bindde = SHIFT, X, Delete char before cursor, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut SHIFT, LEFT, activewindow" && $HYPRVIM_REGISTERS handle-delete "CTRL, X" "NORMAL"
bindde = , X, Delete char under cursor, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut SHIFT, RIGHT, activewindow" && $HYPRVIM_REGISTERS handle-delete "CTRL, X" "NORMAL"

## Paste
bindd = , P, Paste after cursor, exec, $HYPRVIM_REGISTERS handle-paste "CTRL, V" "NORMAL"
bindd = SHIFT, P, Paste before cursor, exec, $HYPRVIM_REGISTERS handle-paste "CTRL, V" "NORMAL"

## Indent
bindde = SHIFT, PERIOD, Indent line, exec, hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut , tab, activewindow
bindde = SHIFT, COMMA, Unindent line, exec, hyprctl dispatch sendshortcut , HOME, activewindow; hyprctl dispatch sendshortcut SHIFT, tab, activewindow

## GUI helpers
bind = , tab, pass, activewindow
bind = SHIFT, tab, pass, activewindow
bind = , RETURN, pass, activewindow
bind = , q, exec, $HYPRVIM_COUNT clear; hyprctl dispatch sendshortcut , ESCAPE, activewindow
bind = CTRL, q, submap, NORMAL
bind = CTRL, C, exec, $HYPRVIM_COUNT clear; hyprctl dispatch sendshortcut , ESCAPE, activewindow
bind = ALT, H, exec, $HYPRVIM_MOTION "ALT, LEFT"
bind = ALT, J, exec, $HYPRVIM_MOTION "ALT, DOWN"
bind = ALT, K, exec, $HYPRVIM_MOTION "ALT, UP"
bind = ALT, L, exec, $HYPRVIM_MOTION "ALT, RIGHT"


## !--/ NORMAL
bind = $HYPRVIM_LEADER, $HYPRVIM_ACTIVATE, exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset
bind = , ESCAPE, exec, $HYPRVIM_COUNT clear; $HYPRVIM_WHICH_KEY --close; $HYPRVIM_FIND deactivate
bind = , catchall, submap, NORMAL
bind = SHIFT, catchall, submap, NORMAL
submap = reset

# ----------------------------------------------------------------------------- #
# !-- INSERT
# ----------------------------------------------------------------------------- #
submap = INSERT

## !--/ INSERT
bind = $HYPRVIM_LEADER, $HYPRVIM_ACTIVATE, exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset
bind = , ESCAPE, exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap NORMAL
submap = reset

# ----------------------------------------------------------------------------- #
# !-- VISUAL
# ----------------------------------------------------------------------------- #
submap = VISUAL

## Count (digit accumulation for repeating motions)
bindd = , 0, Start of line, exec, $HYPRVIM_COUNT handle_zero_visual
bind = , 1, exec, $HYPRVIM_COUNT append 1
bind = , 2, exec, $HYPRVIM_COUNT append 2
bind = , 3, exec, $HYPRVIM_COUNT append 3
bind = , 4, exec, $HYPRVIM_COUNT append 4
bind = , 5, exec, $HYPRVIM_COUNT append 5
bind = , 6, exec, $HYPRVIM_COUNT append 6
bind = , 7, exec, $HYPRVIM_COUNT append 7
bind = , 8, exec, $HYPRVIM_COUNT append 8
bind = , 9, exec, $HYPRVIM_COUNT append 9

## Mode Switches
bind = , G, submap, G-VISUAL
bind = SHIFT, V, exec, $HYPRVIM_LINE_MOTION enter-vline
bind = , V, submap, VISUAL

## Editor Operations
bindd = $HYPRVIM_LEADER, N, Edit selection in Vim (Normal), exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset; $HYPRVIM_OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL
bindd = $HYPRVIM_LEADER, I, Edit selection in Vim (Insert), exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset; $HYPRVIM_OPEN_VIM --copy-selected --insert-mode; hyprctl dispatch submap NORMAL

## Char
bindde = , H, Left, exec, $HYPRVIM_MOTION "SHIFT, LEFT"
bindde = , J, Down, exec, $HYPRVIM_MOTION "SHIFT, DOWN"
bindde = , K, Up, exec, $HYPRVIM_MOTION "SHIFT, UP"
bindde = , L, Right, exec, $HYPRVIM_MOTION "SHIFT, RIGHT"
bindde = SHIFT, Ctrl Left, H, exec, $HYPRVIM_MOTION "SHIFT, HOME"
bindde = SHIFT, Ctrl Down, J, exec, $HYPRVIM_MOTION "CTRL SHIFT, DOWN"
bindde = SHIFT, Ctrl Up, K, exec, $HYPRVIM_MOTION "CTRL SHIFT, UP"
bindde = SHIFT, Ctrl Right, L, exec, $HYPRVIM_MOTION "SHIFT, END"

## Word
bindde = , B, Prev word, exec, $HYPRVIM_MOTION "CTRL SHIFT, LEFT"
bindde = , E, Next end of word, exec, $HYPRVIM_MOTION "CTRL SHIFT, RIGHT"
bindde = , W, Next word, exec, $HYPRVIM_MOTION "CTRL SHIFT, RIGHT"
binde = SHIFT, B, exec, $HYPRVIM_MOTION "CTRL SHIFT, LEFT"
binde = SHIFT, E, exec, $HYPRVIM_MOTION "CTRL SHIFT, RIGHT"
binde = SHIFT, W, exec, $HYPRVIM_MOTION "CTRL SHIFT, RIGHT"

## Paragraph
bindde = SHIFT, BRACKETLEFT, Paragraph start, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut SHIFT, HOME, activewindow; dispatch sendshortcut CTRL SHIFT, UP, activewindow"
bindde = SHIFT, BRACKETRIGHT, Paragraph end, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut SHIFT, END, activewindow; dispatch sendshortcut CTRL SHIFT, DOWN, activewindow"

## Line
bindde = SHIFT, MINUS, Start of line, sendshortcut, SHIFT, HOME, activewindow
bindde = SHIFT, 4, End of line, sendshortcut, SHIFT, END, activewindow

## Page
bindde = CTRL, E, Page down, sendshortcut, SHIFT, PAGE_DOWN, activewindow
bindde = CTRL, Y, Page up, sendshortcut, SHIFT, PAGE_UP, activewindow
bindde = SHIFT, G, Last line, exec, hyprctl dispatch sendshortcut CTRL SHIFT, END, activewindow; hyprctl dispatch submap VISUAL

## Undo
bindde = , U, Undo, exec, $HYPRVIM_MOTION "CTRL, Z"
binde = SHIFT, U, exec, $HYPRVIM_MOTION "CTRL, Z"
bindde = CTRL, R, Redo, exec, $HYPRVIM_MOTION "CTRL, Y"

## Change
bindd = , C, Change, exec, $HYPRVIM_REGISTERS handle-delete "CTRL, X" "INSERT"
bind = SHIFT, C, exec, hyprctl dispatch submap VISUAL

## Delete
bindde = SHIFT, X, BackSpace, exec, $HYPRVIM_WHICH_KEY --close; $HYPRVIM_REGISTERS handle-delete ", BackSpace" "NORMAL"
binde = , X, exec, $HYPRVIM_REGISTERS handle-delete "CTRL, X" "NORMAL"
bindde = , D, Delete, exec, $HYPRVIM_REGISTERS handle-delete "CTRL, X" "NORMAL"
bindde = SHIFT, D, Delete to line start, exec, hyprctl dispatch sendshortcut SHIFT, HOME, activewindow; hyprctl dispatch sendshortcut , Delete, activewindow; hyprctl dispatch submap NORMAL
bindd = , Y, Yank, exec, $HYPRVIM_REGISTERS handle-yank "CTRL, C" "NORMAL"
bindd = SHIFT, Y, Yacnk to line start, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut , END, activewindow; dispatch sendshortcut SHIFT, HOME, activewindow" && $HYPRVIM_REGISTERS handle-yank "CTRL, C" "NORMAL"
bindde = , P, Paste, exec, $HYPRVIM_REGISTERS handle-paste "CTRL, V" "NORMAL"
binde = SHIFT, P, exec, $HYPRVIM_REGISTERS handle-paste "CTRL, V" "NORMAL"

## Normal keyboard shortcuts allowed
binde = CTRL, X, exec, hyprctl --batch "dispatch sendshortcut CTRL, X, activewindow; dispatch submap NORMAL"
binde = CTRL, P, exec, hyprctl --batch "dispatch sendshortcut CTRL, V, activewindow; dispatch submap NORMAL"
binde = CTRL, V, exec, hyprctl --batch "dispatch sendshortcut CTRL, V, activewindow; dispatch submap NORMAL"
binde = CTRL, B, exec, hyprctl dispatch sendshortcut CTRL, B, activewindow
binde = CTRL, I, exec, hyprctl dispatch sendshortcut CTRL, I, activewindow
binde = CTRL, U, exec, hyprctl dispatch sendshortcut CTRL, U, activewindow
binde = CTRL, S, exec, hyprctl dispatch sendshortcut CTRL, S, activewindow

# !-- SUB MOTIONS -------------------------------------------------------------
## !-- V-I
bindd = , I, +Inner, submap, V-I
bind = SHIFT, I, submap, V-I
submap = V-I

## Word motions
bindd = , W, Word, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut CTRL, RIGHT, activewindow; dispatch sendshortcut CTRL+SHIFT, LEFT, activewindow; dispatch submap VISUAL"
bind = SHIFT, W, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut CTRL, RIGHT, activewindow; dispatch sendshortcut CTRL+SHIFT, LEFT, activewindow; dispatch submap VISUAL"

## Paragraph motions
bindd = , P, Paragraph, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut , END, activewindow; dispatch sendshortcut CTRL, UP, activewindow; dispatch sendshortcut CTRL+SHIFT, DOWN, activewindow; dispatch submap VISUAL"
bind = SHIFT, P, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut , END, activewindow; dispatch sendshortcut CTRL, UP, activewindow; dispatch sendshortcut CTRL+SHIFT, DOWN, activewindow; dispatch submap VISUAL"

## !--/ V-I
bind = $HYPRVIM_LEADER, $HYPRVIM_ACTIVATE, exec, hyprctl dispatch submap reset
bind = , ESCAPE, exec, hyprctl dispatch submap NORMAL
bind = , BackSpace, exec, $HYPRVIM_WHICH_KEY --close; hyprctl dispatch submap VISUAL
bind = , catchall, exec, hyprctl dispatch submap VISUAL
bind = SHIFT, SLASH, exec, $HYPRVIM_WHICH_KEY info
bind = SHIFT, catchall, exec, hyprctl dispatch submap VISUAL
submap = VISUAL

## !-- V-A
bindd = , A, +Around, submap, V-A
bind = SHIFT, A, submap, V-A
submap = V-A

## Word motions
bindd = , W, Word, exec, hyprctl --batch "dispatch sendshortcut CTRL, LEFT, activewindow; dispatch sendshortcut CTRL+SHIFT, RIGHT, activewindow; dispatch submap VISUAL"
bind = SHIFT, W, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut CTRL, LEFT, activewindow; dispatch sendshortcut CTRL+SHIFT, RIGHT, activewindow; dispatch submap VISUAL"

## Paragraph motions
bindd = , P, Paragraph, exec, hyprctl --batch "dispatch sendshortcut , END, activewindow; dispatch sendshortcut CTRL, UP, activewindow; dispatch sendshortcut CTRL+SHIFT, DOWN, activewindow; dispatch submap VISUAL"
bind = SHIFT, P, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut , END, activewindow; dispatch sendshortcut CTRL, UP, activewindow; dispatch sendshortcut CTRL+SHIFT, DOWN, activewindow; dispatch submap VISUAL"

## !--/ V-A
bind = $HYPRVIM_LEADER, $HYPRVIM_ACTIVATE, exec, hyprctl dispatch submap reset
bind = , ESCAPE, exec, hyprctl dispatch submap NORMAL
bind = , BackSpace, exec, $HYPRVIM_WHICH_KEY --close; hyprctl dispatch VISUAL
bind = , catchall, exec, hyprctl dispatch submap VISUAL
bind = SHIFT, SLASH, exec, $HYPRVIM_WHICH_KEY info
bind = SHIFT, catchall, exec, hyprctl dispatch submap VISUAL
submap = VISUAL
# !--/ SUB MOTIONS ------------------------------------------------------------

## !--/ VISUAL
bind = $HYPRVIM_LEADER, $HYPRVIM_ACTIVATE, exec, hyprctl dispatch submap reset
bind = , ESCAPE, exec, hyprctl dispatch sendshortcut , Left, activewindow; hyprctl dispatch sendshortcut , Right, activewindow; hyprctl dispatch submap NORMAL
bind = , BackSpace, exec, $HYPRVIM_WHICH_KEY --close; hyprctl dispatch submap NORMAL
bind = , catchall, submap, VISUAL
bind = SHIFT, SLASH, exec, $HYPRVIM_WHICH_KEY info
bind = SHIFT, catchall, submap, VISUAL
submap = reset

# ----------------------------------------------------------------------------- #
# !-- V-LINE (Line-wise visual mode)
# ----------------------------------------------------------------------------- #
submap = V-LINE

## Count (digit accumulation for repeating motions)
bind = , 0, exec, $HYPRVIM_COUNT append 0
bind = , 1, exec, $HYPRVIM_COUNT append 1
bind = , 2, exec, $HYPRVIM_COUNT append 2
bind = , 3, exec, $HYPRVIM_COUNT append 3
bind = , 4, exec, $HYPRVIM_COUNT append 4
bind = , 5, exec, $HYPRVIM_COUNT append 5
bind = , 6, exec, $HYPRVIM_COUNT append 6
bind = , 7, exec, $HYPRVIM_COUNT append 7
bind = , 8, exec, $HYPRVIM_COUNT append 8
bind = , 9, exec, $HYPRVIM_COUNT append 9

## Editor Operations
bindd = $HYPRVIM_LEADER, N, Edit selection in Vim (Normal), exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset; $HYPRVIM_OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL
bindd = $HYPRVIM_LEADER, I, Edit selection in Vim (Insert), exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset; $HYPRVIM_OPEN_VIM --copy-selected --insert-mode; hyprctl dispatch submap NORMAL

## Char
bindde = , J, Down, exec, $HYPRVIM_LINE_MOTION down
bindde = , K, Up, exec, $HYPRVIM_LINE_MOTION up

## Paragraph
bindd = SHIFT, BRACKETLEFT, Previous paragraph, exec, $HYPRVIM_LINE_MOTION paragraph-up
bindd = SHIFT, BRACKETRIGHT, Next paragraph, exec, $HYPRVIM_LINE_MOTION paragraph-down

## Page
bindde = CTRL, E, Page down, sendshortcut, SHIFT, PAGE_DOWN, activewindow
bindde = CTRL, Y, Page up, sendshortcut, SHIFT, PAGE_UP, activewindow
bindde = SHIFT, G, Last line, exec, $HYPRVIM_LINE_MOTION goto-end; hyprctl dispatch submap V-LINE

## Undo
bindde = , U, Undo, exec, $HYPRVIM_MOTION "CTRL, Z"
bindde = CTRL, R, Redo, exec, $HYPRVIM_MOTION "CTRL, Y"

## Change
bind = , C, exec, $HYPRVIM_LINE_MOTION reset; $HYPRVIM_REGISTERS handle-delete "CTRL, X" "INSERT"

## Delete
bindde = SHIFT, X, BackSpace, exec, $HYPRVIM_WHICH_KEY --close; $HYPRVIM_LINE_MOTION reset; $HYPRVIM_REGISTERS handle-delete ", BackSpace" "NORMAL"
binde = , X, exec, $HYPRVIM_LINE_MOTION reset; $HYPRVIM_REGISTERS handle-delete "CTRL, X" "NORMAL"
bindde = , D, Delete, exec, $HYPRVIM_LINE_MOTION reset; $HYPRVIM_REGISTERS handle-delete "CTRL, X" "NORMAL"
bindde = SHIFT, D, Delete to line start, exec, $HYPRVIM_LINE_MOTION reset; hyprctl dispatch sendshortcut SHIFT, HOME, activewindow; hyprctl dispatch sendshortcut , Delete, activewindow; hyprctl dispatch submap NORMAL
bindde = , Y, Yank, exec, $HYPRVIM_LINE_MOTION reset; $HYPRVIM_REGISTERS handle-yank "CTRL, C" "NORMAL"
bindde = , P, Paste, exec, $HYPRVIM_REGISTERS handle-paste "CTRL, V" "NORMAL"

## Normal keyboard shortcuts allowed
binde = CTRL, X, exec, hyprctl --batch "dispatch sendshortcut CTRL, X, activewindow; dispatch submap NORMAL"
binde = CTRL, P, exec, hyprctl --batch "dispatch sendshortcut CTRL, V, activewindow; dispatch submap NORMAL"
binde = CTRL, V, exec, hyprctl --batch "dispatch sendshortcut CTRL, V, activewindow; dispatch submap NORMAL"

# !-- SUB MOTIONS -------------------------------------------------------------
## !-- G-VLINE
bindd = , G, +Go Line, submap, G-VLINE
bind = SHIFT, I, submap, G-VLINE
submap = G-VLINE

## Page motions
bindd = , G, First line, exec, $HYPRVIM_LINE_MOTION goto-start; hyprctl dispatch submap V-LINE
bindd = SHIFT, G, Last line, exec, $HYPRVIM_LINE_MOTION goto-end; hyprctl dispatch submap V-LINE

## Editor
bindd = , N, Edit selection in Vim (Normal), exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset; $HYPRVIM_OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL
bindd = , I, Edit selection in Vim (Insert), exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset; $HYPRVIM_OPEN_VIM --copy-selected --insert-mode; hyprctl dispatch submap NORMAL

## !--/ G-VLINE
bind = , ESCAPE, exec, hyprctl dispatch submap NORMAL
bind = $HYPRVIM_LEADER, $HYPRVIM_ACTIVATE, exec, hyprctl dispatch submap reset
bind = , BackSpace, exec, $HYPRVIM_WHICH_KEY --close; hyprctl dispatch submap VISUAL
bind = , catchall, submap, G-VLINE
bind = SHIFT, SLASH, exec, $HYPRVIM_WHICH_KEY info
bind = SHIFT, catchall, submap, G-VLINE
submap = V-LINE
# !--/ SUB MOTIONS ------------------------------------------------------------

## Basic text formatting shortcuts allowed
binde = CTRL, B, exec, hyprctl dispatch sendshortcut CTRL, B, activewindow
binde = CTRL, I, exec, hyprctl dispatch sendshortcut CTRL, I, activewindow
binde = CTRL, U, exec, hyprctl dispatch sendshortcut CTRL, U, activewindow
binde = CTRL, S, exec, hyprctl dispatch sendshortcut CTRL, S, activewindow

## !--/ V-LINE
bind = $HYPRVIM_LEADER, $HYPRVIM_ACTIVATE, exec, $HYPRVIM_LINE_MOTION reset; hyprctl dispatch submap reset
bind = , ESCAPE, exec, $HYPRVIM_LINE_MOTION reset; hyprctl dispatch sendshortcut , Left, activewindow; hyprctl dispatch sendshortcut , Right, activewindow; hyprctl dispatch submap NORMAL
bind = , BackSpace, exec, $HYPRVIM_WHICH_KEY --close; hyprctl dispatch submap VISUAL
bind = , catchall, submap, V-LINE
bind = SHIFT, SLASH, exec, $HYPRVIM_WHICH_KEY info
bind = SHIFT, catchall, submap, V-LINE
submap = reset

# ----------------------------------------------------------------------------- #
# !-- G-MOTION (Extended motions via 'g' prefix)
# ----------------------------------------------------------------------------- #
submap = G-MOTION

## G-MOTION
bindd = , E, Prev end of word, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut CTRL, LEFT, activewindow; dispatch sendshortcut CTRL, LEFT, activewindow; dispatch sendshortcut CTRL, RIGHT, activewindow; dispatch sendshortcut , LEFT, activewindow; dispatch submap NORMAL"
bindd = SHIFT, T, Go to prev tab, exec, hyprctl --batch "dispatch sendshortcut CTRL, PAGE_UP, activewindow; dispatch submap NORMAL"
bindd = , T, Go to next tab, exec, hyprctl --batch "dispatch sendshortcut CTRL, PAGE_DOWN, activewindow; dispatch submap NORMAL"
bindd = , G, Go to document start, exec, hyprctl --batch "dispatch submap NORMAL; dispatch sendshortcut CTRL, HOME, activewindow"
bindd = SHIFT, G, Go to last line, exec, hyprctl --batch "dispatch sendshortcut CTRL, END, activewindow; dispatch submap NORMAL"
bindd = , H, Go to keybindings help, exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset; $HYPRVIM_TERMINAL $HYPRVIM_HELP; hyprctl dispatch submap NORMAL
bindd = , M, Go to marks list, exec, $HYPRVIM_COUNT clear; $HYPRVIM_MARKS list; hyprctl dispatch submap NORMAL
bindd = , S, +Surround word, exec, $HYPRVIM_COUNT clear; $HYPRVIM_SURROUND

## Editor
bindd = , N, Edit selection in Vim (Normal), exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset; $HYPRVIM_OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL
bindd = , I, Edit selection in Vim (Insert), exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset; $HYPRVIM_OPEN_VIM --copy-selected --insert-mode; hyprctl dispatch submap NORMAL

## !--/ G-MOTION
bind = $HYPRVIM_LEADER, $HYPRVIM_ACTIVATE, exec, hyprctl dispatch submap reset
bind = , ESCAPE, exec, hyprctl dispatch submap NORMAL
bind = , BackSpace, exec, $HYPRVIM_WHICH_KEY --close; hyprctl dispatch submap NORMAL
bind = , catchall, submap, G-MOTION
bind = SHIFT, SLASH, exec, $HYPRVIM_WHICH_KEY info
bind = SHIFT, catchall, submap, G-MOTION
submap = reset

# ----------------------------------------------------------------------------- #
# !-- G-VISUAL (Extended visual motions via 'g' prefix)
# ----------------------------------------------------------------------------- #
submap = G-VISUAL

## Surround
## gs: Surround selection with character
bindd = , S, Surround selection with character, exec, $HYPRVIM_COUNT clear; $HYPRVIM_SURROUND

## Word
## ge: Back to end of previous word (with selection)
bindde = , E, Prev end of word, exec, $HYPRVIM_MOTION --batch "dispatch sendshortcut CTRL, LEFT, activewindow; dispatch sendshortcut , LEFT, activewindow; dispatch submap NORMAL"

# Page
## gg: Go to beginning of file (with selection)
bindd = , G, First line, exec, hyprctl dispatch sendshortcut CTRL SHIFT, HOME, activewindow; hyprctl dispatch submap VISUAL
bindd = SHIFT, G, Last line, exec, hyprctl dispatch sendshortcut CTRL SHIFT, END, activewindow; hyprctl dispatch submap VISUAL

## Editor
bindd = , N, Edit selection in Vim (Normal), exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset; $HYPRVIM_OPEN_VIM --copy-selected; hyprctl dispatch submap NORMAL
bindd = , I, Edit selection in Vim (Insert), exec, $HYPRVIM_COUNT clear; hyprctl dispatch submap reset; $HYPRVIM_OPEN_VIM --copy-selected --insert-mode; hyprctl dispatch submap NORMAL

## !--/ G-VISUAL
bind = $HYPRVIM_LEADER, $HYPRVIM_ACTIVATE, exec, hyprctl dispatch submap reset
bind = , ESCAPE, exec, hyprctl dispatch submap VISUAL
bind = , BackSpace, exec, $HYPRVIM_WHICH_KEY --close; hyprctl dispatch submap VISUAL
bind = , catchall, submap, G-VISUAL
bind = SHIFT, SLASH, exec, $HYPRVIM_WHICH_KEY info
bind = SHIFT, catchall, submap, G-VISUAL
submap = reset
